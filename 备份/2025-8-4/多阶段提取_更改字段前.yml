app:
  description: ç¬¬ä¸€ä¸ªLLMä¿ç•™åŸæœ‰å¼•ç”¨æ ¼å¼ï¼Œç¬¬äºŒä¸ªLLMè¿›è¡Œè¡¥å…¨
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: å¤šé˜¶æ®µæå–
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/deepseek:0.0.6@dd589dc093c8084925858034ab5ec1fdf0d33819f43226c2f8c4a749a9acbbb2
kind: app
version: 0.3.0
workflow:
  conversation_variables:
  - description: ''
    id: e0035b6b-f99f-4240-bccf-708d1dd7bf26
    name: LLM3_output
    selector:
    - conversation
    - LLM3_output
    value: ''
    value_type: string
  - description: ''
    id: 8c1c7c83-a4d8-44d3-bd75-dc32b2a94999
    name: LLM2_output
    selector:
    - conversation
    - LLM2_output
    value: ''
    value_type: string
  - description: ''
    id: 18d6e95b-911a-40b4-98cc-b1c6aa5c07dc
    name: LLM1_output
    selector:
    - conversation
    - LLM1_output
    value: ''
    value_type: string
  environment_variables:
  - description: ''
    id: f62979ad-1321-45fd-9d3b-d34f5d69678c
    name: PLUGIN_MAX_EXECUTION_TIMEOUT
    selector:
    - env
    - PLUGIN_MAX_EXECUTION_TIMEOUT
    value: '1800'
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        sourceType: llm
        targetType: code
      id: 1752730445843-source-1753070274269-target
      selected: false
      source: '1752730445843'
      sourceHandle: source
      target: '1753070274269'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: loop
        targetType: code
      id: 1753409012058-source-1753409017000-target
      selected: false
      source: '1753409012058'
      sourceHandle: source
      target: '1753409017000'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1753409017000-source-answer-target
      selected: false
      source: '1753409017000'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: if-else
        targetType: loop-end
      id: 1753409501855-true-1753409505567-target
      selected: false
      source: '1753409501855'
      sourceHandle: 'true'
      target: '1753409505567'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        sourceType: iteration-start
        targetType: llm
      id: 1752730418049start-source-1752730445843-target
      selected: false
      source: 1752730418049start
      sourceHandle: source
      target: '1752730445843'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        sourceType: code
        targetType: llm
      id: 1753070274269-source-1753071359036-target
      selected: false
      source: '1753070274269'
      sourceHandle: source
      target: '1753071359036'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        sourceType: llm
        targetType: assigner
      id: 1753071359036-source-1753493998402-target
      selected: false
      source: '1753071359036'
      sourceHandle: source
      target: '1753493998402'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        sourceType: assigner
        targetType: code
      id: 1753493998402-source-1753257336262-target
      selected: false
      source: '1753493998402'
      sourceHandle: source
      target: '1753257336262'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: llm
        targetType: assigner
      id: 1753409474112-source-1753494056663-target
      selected: false
      source: '1753409474112'
      sourceHandle: source
      target: '1753494056663'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: code
        targetType: if-else
      id: 1753409497092-source-1753409501855-target
      selected: false
      source: '1753409497092'
      sourceHandle: source
      target: '1753409501855'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: if-else
        targetType: code
      id: 1753409501855-false-1753409508297-target
      selected: false
      source: '1753409501855'
      sourceHandle: 'false'
      target: '1753409508297'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: code
        targetType: assigner
      id: 1753409508297-source-1753409511950-target
      selected: false
      source: '1753409508297'
      sourceHandle: source
      target: '1753409511950'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: loop-start
        targetType: llm
      id: 1753409012058start-source-1753409474112-target
      selected: false
      source: 1753409012058start
      sourceHandle: source
      target: '1753409474112'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: assigner
        targetType: code
      id: 1753494056663-source-1753409497092-target
      selected: false
      source: '1753494056663'
      sourceHandle: source
      target: '1753409497092'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: start
        targetType: code
      id: 1752117396348-source-1752737813275-target
      selected: false
      source: '1752117396348'
      sourceHandle: source
      target: '1752737813275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: assigner
        targetType: if-else
      id: 1753409511950-source-1753884991237-target
      selected: false
      source: '1753409511950'
      sourceHandle: source
      target: '1753884991237'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        sourceType: if-else
        targetType: loop-end
      id: 1753884991237-true-1753885009929-target
      selected: false
      source: '1753884991237'
      sourceHandle: 'true'
      target: '1753885009929'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1752730418049-source-1753409007363-target
      source: '1752730418049'
      sourceHandle: source
      target: '1753409007363'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: loop
      id: 1753409007363-source-1753409012058-target
      source: '1753409007363'
      sourceHandle: source
      target: '1753409012058'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 1752737813275-source-1752730418049-target
      source: '1752737813275'
      sourceHandle: source
      target: '1752730418049'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: file
          max_length: 48
          options: []
          required: true
          type: file
          variable: file
        - label: finished
          max_length: 10000000
          options: []
          required: false
          type: paragraph
          variable: finished
        - label: unfinished
          max_length: 1000000
          options: []
          required: false
          type: paragraph
          variable: unfinished
      height: 141
      id: '1752117396348'
      position:
        x: 30
        y: 342.5
      positionAbsolute:
        x: 30
        y: 342.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#conversation.LLM1_output#}}

          {{#conversation.LLM2_output#}}

          {{#conversation.LLM3_output#}}


          {{#1753409017000.markdown_table#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 141
      id: answer
      position:
        x: 5816
        y: 386.5
      positionAbsolute:
        x: 5816
        y: 386.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: continue-on-error
        height: 322
        is_parallel: true
        iterator_input_type: array[string]
        iterator_selector:
        - '1752737813275'
        - array
        output_selector:
        - '1753257336262'
        - result
        output_type: array[object]
        parallel_nums: 10
        selected: false
        start_node_id: 1752730418049start
        title: è¿­ä»£
        type: iteration
        width: 1814
      height: 322
      id: '1752730418049'
      position:
        x: 626.3360859321056
        y: 386.5
      positionAbsolute:
        x: 626.3360859321056
        y: 386.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 1814
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1752730418049start
      parentId: '1752730418049'
      position:
        x: 60
        y: 93.5
      positionAbsolute:
        x: 686.3360859321056
        y: 480
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        context:
          enabled: true
          variable_selector:
          - '1752737813275'
          - context
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        model:
          completion_params:
            stop:
            - '[''```'']'
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 19fd43e2-a2d0-4f9d-be70-f3d30da33c7c
          role: system
          text: "# è§’è‰²\nä½ æ˜¯ä¸€åä¸“ä¸šçš„æ ‡å‡†æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸“å®¶ï¼Œæ“…é•¿å°†å›½å®¶æ ‡å‡†æˆ–è¡Œä¸šæ ‡å‡†ä¸­çš„æŠ€æœ¯è¦æ±‚ã€æ€§èƒ½æ¡æ¬¾ã€è¯•éªŒæ–¹æ³•ç­‰å†…å®¹ï¼Œä¸¥æ ¼æ‹†è§£ä¸ºç»“æ„åŒ–æµ‹è¯•ç”¨ä¾‹ï¼Œä¾›æµ‹è¯•æœºæ„ç›´æ¥ç”¨äºæµ‹è¯•çŸ©é˜µä¸æ ‡å‡†å·®å¼‚æ¯”å¯¹ï¼Œç¡®ä¿é«˜è¦†ç›–ç‡ã€å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ã€‚\n\
            \n------\n\n# ä»»åŠ¡ç›®æ ‡ \nä»æ ‡å‡†çš„ç« èŠ‚å†…å®¹ chapter_text ä¸­ï¼Œæå–å‡º**éœ€è¦éªŒè¯çš„ç»“æ„åŒ–çš„æµ‹è¯•ç”¨ä¾‹**ï¼Œå¹¶ç”Ÿæˆä¸€ä»½å®Œæ•´ã€æ¸…æ™°ã€è‡ªç„¶çš„\
            \ jsonæ–‡ä»¶ï¼Œä»¥ã€Œæµ‹è¯•ç”¨ä¾‹ã€å½¢å¼è¾“å‡ºï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åº”åŒ…å«è¯¦ç»†å­—æ®µï¼Œä¾›åç»­ç”¨äºè·¨å›½æ ‡å‡†å¯¹æ¯”ç­‰åœºæ™¯ã€‚\n\nè¾“å…¥å†…å®¹åŒ…æ‹¬ï¼š\n\n- å½“å‰ç« èŠ‚å†…å®¹ï¼ˆchapter_textï¼Œåªæœ‰ä¸€ç« ï¼‰\
            \ \n- æ–‡ç« æ‰€æœ‰çš„è¡¨æ ¼å†…å®¹ï¼ˆtablesï¼Œåªæœ‰å½“å¤„ç†chapter_textéœ€è¦æ—¶æ‰è¯»å–å¯¹åº”è¡¨æ ¼å†…å®¹ï¼‰\n- ä½ ä¹Ÿå¯ä»¥ä» {{#context#}}\
            \ ä¸­ç†è§£æ­¤æ ‡å‡†çš„ç›¸å…³ä¿¡æ¯ã€‚\n\n**ä»…éœ€è¦å¯¹ chapter_text æå–æµ‹è¯•ç”¨ä¾‹ã€‚**\n\n------\n\n# è¾“å…¥æ ¼å¼\n\n\
            \ {\n    \"chapter_id\": \"4\",\n    \"chapter_title\": \"æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•\"\
            ,\n    \"full_path\": \"4 æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•\",\n    \"raw_text\": \"...\",\n \
            \   \"children\": [\n      {\n        \"chapter_id\": \"4.1\",\n     \
            \   \"chapter_title\": \"ä¸€èˆ¬è¦æ±‚\",\n        \"full_path\": \"4 æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•/4.1\
            \ ä¸€èˆ¬è¦æ±‚\",\n        \"raw_text\": \"...\",\n        \"children\": [\n \
            \         {\n            \"chapter_id\": \"4.1.1\",\n            \"chapter_title\"\
            : \"...\",\n            \"raw_text\": \"...\",\n            \"children\"\
            : []\n          },\n          ...\n        ]\n      },\n      ...\n  \
            \  ]\n  }\n\n\n------\n\n\n# è¾“å‡ºæ ¼å¼\n\nåªè¾“å‡ºçº¯ JSON æ•°ç»„ï¼Œæ— ä»»ä½•å‰ç¼€ã€åç¼€ã€è§£é‡Šã€æ³¨é‡Šæˆ– Markdown\
            \ ä»£ç å—æ ‡è®°ï¼ˆä¾‹å¦‚ä¸è¦åŒ…å«```jsonæˆ–```ï¼‰ï¼Œç¡®ä¿ç»“æœå¯ä»¥è¢«Pythonçš„json.loads()å‡½æ•°ç›´æ¥è§£æï¼Œæ— éœ€é¢å¤–å¤„ç†ã€‚\n\n\
            [\n{\n\"å®éªŒç¼–å·\": \"\", // ï¼ˆç¼–å·è‡ªåŠ¨ç”Ÿæˆï¼Œå¦‚å‡è®¾chapter_textæ˜¯ç¬¬å››ç« çš„å†…å®¹ï¼Œåˆ™T4-1, T4-2...ï¼‰\n\
            \"å®éªŒç›®çš„\": \"\", // ï¼ˆç®€è¦è¯´æ˜éªŒè¯ç›®æ ‡æˆ–åŠŸèƒ½ï¼‰\n\"å®éªŒæ¡ä»¶\": \"\", // ï¼ˆå¦‚å®‰è£…éƒ¨ä»¶ã€ç”µæºçŠ¶æ€ã€ç¯å¢ƒè¦æ±‚ç­‰ï¼Œå¯åˆ†æ¡ç½—åˆ—ï¼‰\n\
            \"å…·ä½“æ­¥éª¤\": \"\", // ï¼ˆå¦‚æ»‘å°ç¢°æ’ã€é€šä¿¡æµ‹è¯•ã€è‡ªæ£€æ­¥éª¤ç­‰ï¼Œå¯åˆ†æ¡ç½—åˆ—ï¼‰\n\"æ£€æµ‹é¡¹\": \"\",    // ï¼ˆå¦‚åŠ é€Ÿåº¦ã€é€Ÿåº¦å˜åŒ–é‡ã€é€šä¿¡å»¶æ—¶ã€ç»çº¬åº¦ç²¾åº¦ç­‰ï¼Œæ³¨æ„ä¸å®éªŒæ¡ä»¶çš„åŒºåˆ†ï¼‰\n\
            \"åˆ¤å®šæ ‡å‡†\": \"\", // ï¼ˆæ˜ç¡®é€šè¿‡/å¤±è´¥çš„æ¡ä»¶ï¼‰\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"\", // ï¼ˆå¦‚ 4.1.3, B.2.1.2\
            \ ç­‰ï¼‰\n\"ref\": \"\", // ï¼ˆå¦‚GB 11551ã€é™„å½•ã€æœ¬æ–‡å…¶å®ƒæ¡æ¬¾ç­‰çš„å¼•ç”¨ï¼Œå¯¹å›¾ã€è¡¨çš„å¼•ç”¨ç¦æ­¢æ”¾åœ¨æ­¤å¤„ï¼‰\n},\n\
            ]\n\n\n---\n\n# æ³¨æ„äº‹é¡¹\n1. æ¯æ®µæ–‡å­—å‡åº”åˆ¤æ–­æ˜¯å¦å¯æ‹†è§£ä¸ºæµ‹è¯•ç”¨ä¾‹ï¼ŒåŒæ—¶ä¿ç•™åŸæœ‰æè¿°ï¼Œå³ä¾¿åŠŸèƒ½ç›®çš„ç›¸ä¼¼ï¼Œä»éœ€é€ä¸€ç”Ÿæˆå•ç‹¬æµ‹è¯•ç”¨ä¾‹è¡¨æ ¼è¡Œï¼Œ**ç¦æ­¢åˆå¹¶ã€è¿‡åˆ†æ€»ç»“æˆ–é—æ¼ï¼Œç¦æ­¢å‡ºç°åŸæ–‡ä¸å­˜åœ¨çš„æè¿°**\n\
            2. å½“å­˜åœ¨å¼•ç”¨å…¶å®ƒå½“å‰ç« èŠ‚å…¶å®ƒæ¡æ¬¾æ—¶ï¼Œå¿…é¡»é€’å½’è§£æç›´è‡³è·å¾—åŸå­çº§å‚æ•°ï¼Œè‹¥æ— æ³•è¿›ä¸€æ­¥ç´¢å¼•ï¼ˆä¾‹å¦‚å¯¹å…¶å®ƒæ–‡ä»¶çš„å¼•ç”¨ã€å¯¹äºé™„å½•çš„å¼•ç”¨ã€å¯¹äºå…¶å®ƒç« èŠ‚æ¡æ¬¾çš„å¼•ç”¨ç­‰ï¼‰ï¼Œåˆ™ä¿ç•™å¼•ç”¨å¹¶æ·»åŠ ç‰¹æ®Šæ ‡è®°â€œrefâ€ä¾¿äºåç»­è°ƒæ•´\n\
            3. å­˜åœ¨å¼•ç”¨å…¶å®ƒå†…å®¹çš„æ®µè½ï¼Œå¿…é¡»ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œä¸”æ— æ³•è§£æçš„å¼•ç”¨å¿…é¡»ä½“ç°åœ¨å¯¹åº”æ¬¾é¡¹å’Œrefå­—æ®µ\n3. æ¯ä¸ªå¥å­ã€æ¯ä¸ªè¡¥å……æ–¹æ¡ˆã€æ¯ä¸ªå¯é€‰æ–¹æ¡ˆï¼ˆä¾‹å¦‚ã€Œå¯ä½¿ç”¨â€¦ã€ã€Œåˆ¶é€ å•†å¯é€‰â€¦ã€ã€Œå¦ä¸€æ–¹æ¡ˆâ€¦ã€ï¼‰éƒ½å¿…é¡»è§†ä½œç‹¬ç«‹éªŒè¯è·¯å¾„ï¼Œå‡éœ€ç”Ÿæˆç‹¬ç«‹æµ‹è¯•ç”¨ä¾‹ï¼Œç¦æ­¢çœç•¥ã€åˆå¹¶ã€éšè—ã€‚\n\
            5. å¤„ç†æ–¹æ¡ˆé€‰æ‹©æ—¶ï¼ˆå¦‚\"å¯é‡‡ç”¨Aæˆ–Bæ–¹æ³•\"ï¼‰ï¼š\n\n      - å¿…é¡»ä¸ºæ¯ä¸ªæ–¹æ¡ˆç”Ÿæˆç‹¬ç«‹æµ‹è¯•ç”¨ä¾‹\n      - åœ¨å®éªŒç¼–å·åè¿½åŠ æ–¹æ¡ˆæ ‡è¯†ï¼ˆå¦‚T4-1-Aã€T4-1-Bï¼‰\n\
            \      - åœ¨å®éªŒç›®çš„ä¸­æ˜ç¡®è¯´æ˜é‡‡ç”¨çš„æ–¹æ¡ˆ\n6. è¾“å‡ºç»“æœå¿…é¡»ä¸º **çº¯ jsonæ ¼å¼ç»“æ„æ–‡ä»¶**ï¼Œå®Œæ•´è¯¦ç»†ï¼Œç¦æ­¢æ¼é¡¹ã€æ¨¡ç³Šæè¿°ã€æœæ’°æˆ–çœç•¥ä»»ä½•å‚æ•°ã€‚ç¦æ­¢ä½¿ç”¨ã€ŒåŒä¸Šã€ç­‰æ¨¡ç³Šè¡¨è¿°ã€‚\n\
            \n\n# å¤„ç†é€»è¾‘ï¼ˆé“¾å¼æ€è€ƒï¼‰\n1. é¦–å…ˆå°†æ ¹æ®ä¸Šä¸‹æ–‡ç†è§£æœ¬æ–‡ä»¶çš„å‰ç½®èƒŒæ™¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬æœ¯è¯­ã€å‰è¨€ã€èŒƒå›´ç­‰ä¿¡æ¯\n2. æ ¹æ®ç”¨æˆ·è¾“å…¥çš„chapter_textçš„å±‚çº§å…³ç³»ä¸æ–­å‘ä¸‹åˆ†æï¼Œç›´åˆ°é‡åˆ°æ­£æ–‡ï¼Œæ­£æ–‡éƒ¨åˆ†ä»¥æ®µè½ä¸ºå•ä½è¿›è¡Œå¤„ç†ã€‚\n\
            4. å¯¹äºæ¯ä¸ªæ®µè½ï¼Œå…ˆåˆ¤æ–­æ˜¯å¦åŒ…å«å¯æµ‹è¯•çš„è¦æ±‚ï¼ˆåŠŸèƒ½ç‚¹ã€æ€§èƒ½è¦æ±‚ã€è¯•éªŒæ–¹æ³•ç­‰ï¼‰\n   - é‡åˆ°å¼•ç”¨æœ¬ç« èŠ‚çš„å…¶å®ƒæ¡æ¬¾æ—¶ï¼Œç›´æ¥ç«‹å³è·³è½¬åˆ°ç›¸åº”æ¡æ¬¾ï¼šå¦‚æœæ˜¯æŸä¸ªæ¡æ¬¾ï¼ˆå¦‚åˆ¤å®šæ ‡å‡†ï¼‰éœ€è¦æ—¶ï¼Œåˆ™å°†å®Œæ•´çš„æ ‡å‡†æˆ–æ¡ä»¶å®Œæ•´æ¬è¿‡æ¥ï¼›å¦‚æœæ˜¯æ­¤æµ‹è¯•ç”¨ä¾‹å®Œå…¨ä¾ç…§è¯¥æ¡æ¬¾è¿›è¡Œï¼Œåˆ™ä½¿ç”¨ç›¸åŒçš„é€»è¾‘å°†å¼•ç”¨éƒ¨åˆ†æå–æˆæµ‹è¯•ç”¨ä¾‹\n\
            \   - é‡åˆ°å¼•ç”¨å…¶å®ƒæ— æ³•è¿›ä¸€æ­¥é€’å½’è§£æçš„å†…å®¹ï¼ˆå¦‚å…¶ä»–æ–‡ä»¶å†…å®¹ã€å…¶ä»–ç« èŠ‚æ¡æ¬¾ã€é™„å½•å†…å®¹ï¼‰æ—¶ï¼Œä¿ç•™å¼•ç”¨ï¼Œä¸å±•å¼€ã€‚\n5. å¦‚æœåŒ…å«å¯æµ‹è¯•è¦æ±‚ï¼Œåˆ™æå–å®éªŒæ¡ä»¶ã€æ£€æµ‹é¡¹/å‚æ•°ã€åˆ¤å®šæ ‡å‡†ï¼Œç”Ÿæˆå®Œæ•´æµ‹è¯•ç”¨ä¾‹ï¼›è‹¥ä¸å­˜åœ¨éœ€åœ¨å†…éƒ¨é€»è¾‘ä¸­å†™å‡ºã€ŒåŸå› ã€å¹¶ç¡®è®¤æ— é—æ¼ï¼ˆä½†æœ€ç»ˆä¸è¾“å‡ºï¼Œåªç”¨äºå†…éƒ¨éªŒè¯ï¼‰ã€‚\n\
            6. æ­¥éª¤5ä¸­ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç”Ÿæˆæ­¥éª¤ï¼šå…ˆç¡®å®šå®éªŒæ¡ä»¶å’Œå…·ä½“æ­¥éª¤ï¼Œå†ç¡®å®šæ£€æµ‹é¡¹å’Œåˆ¤å®šæ ‡å‡†ï¼Œç„¶åç¼–å†™å®éªŒç›®çš„ï¼Œæœ€ååˆ†é…å®éªŒç¼–å·å’Œè®°å½•å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·ã€‚**ç‰¹åˆ«æ³¨æ„åŒºåˆ†å…³é”®çš„å‚æ•°å…·ä½“å±äºå®éªŒæ¡ä»¶è¿˜æ˜¯æ£€æµ‹é¡¹ï¼ŒåŒæ ·éœ€åœ¨å†…éƒ¨é€»è¾‘ä¸­å†™å‡ºã€ŒåŸå› ã€ï¼ˆä½†æœ€ç»ˆä¸è¾“å‡ºï¼Œåªç”¨äºå†…éƒ¨éªŒè¯ï¼‰**\n\
            7. æ­¥éª¤5ä¸­å¯¹äºæµ‹è¯•ç”¨ä¾‹ä¸­ç¼ºå¤±çš„éƒ¨åˆ†å¯ä»¥åœ¨å¼•ç”¨ä½ç½®å‰åæˆ–è€…åŒçº§ç›®å½•ä¸‹å¯»æ‰¾ã€‚å¯¹äºæŸä¸ªæ¬¾é¡¹éœ€è¦å¼•ç”¨å…¶å®ƒä½ç½®ï¼Œæ¯”å¦‚é™„å½•æˆ–æŒ‡å®šç« èŠ‚æ—¶ï¼ŒåŒæ ·éœ€è¦è·³è½¬åˆ°å¯¹åº”ä½ç½®å°†ç›¸å…³å†…å®¹æå–åˆ°å½“å‰ä½ç½®ã€‚\n\
            8. è‹¥ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹åŒ…å«å¯¹å…¶å®ƒå†…å®¹ï¼Œå®Œå–„refå­—æ®µ\n\n------\n\n# ç»å¯¹ç¦ä»¤ï¼ˆè¿åå°†å¯¼è‡´ä¸¥é‡é”™è¯¯ï¼‰\n1. ç¦æ­¢å‡ºç°ã€ŒåŒä¸Šã€ç­‰æè¿°ï¼Œå³æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸ºç‹¬ç«‹é¡¹\n\
            2. ç¦æ­¢å‚æ•°ç®€åŒ–ï¼šæ‰€æœ‰æŠ€æœ¯å‚æ•°å¿…é¡»å®Œæ•´å‘ˆç°\n3. ç¦æ­¢æ­¥éª¤åˆå¹¶ï¼šæ“ä½œæµç¨‹å¿…é¡»åˆ†è§£ä¸ºåŸå­çº§å¯æ‰§è¡Œæ­¥éª¤\n4. ç¦æ­¢æ£€æµ‹é¡¹åˆå¹¶ï¼šæ¯ä¸ªå¯ç‹¬ç«‹éªŒè¯çš„æŠ€æœ¯æŒ‡æ ‡å¿…é¡»å•ç‹¬åˆ—å‡º\n\
            5. ä¸¥ç¦è¾“å‡º ```jsonã€```ã€#ã€// ç­‰é JSON æ ‡å‡†è¯­æ³•å…ƒç´ ï¼Œè¾“å‡ºå¿…é¡»ä» [ å­—ç¬¦å¼€å§‹ï¼Œä»¥ ] å­—ç¬¦ç»“æŸã€‚\n\n\n------\n\
            \n# ç¤ºä¾‹ï¼ˆfewshotï¼‰\n\n## è¾“å…¥ç¤ºä¾‹ä¸€\n\n\n  {\n    \"chapter_id\": \"4\",\n   \
            \ \"chapter_title\": \"æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•\",\n    \"full_path\": \"4 æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•\"\
            ,\n    \"raw_text\": \"\",\n    \"children\": [\n      {\n        \"chapter_id\"\
            : \"4.1\",\n        \"chapter_title\": \"ä¸€èˆ¬è¦æ±‚\",\n        \"full_path\"\
            : \"4 æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•/4.1 ä¸€èˆ¬è¦æ±‚\",\n        \"raw_text\": \"\",\n        \"children\"\
            : [\n        ...\n          {\n            \"chapter_id\": \"4.1.3\",\n\
            \            \"chapter_title\": \"è§¦å‘ä¿¡å·å¤„ç†è¦æ±‚\",\n            \"full_path\"\
            : \"4 æŠ€æœ¯è¦æ±‚åŠè¯•éªŒæ–¹æ³•/4.1 ä¸€èˆ¬è¦æ±‚/4.1.3 è§¦å‘ä¿¡å·å¤„ç†è¦æ±‚\",\n            \"raw_text\":\
            \ \"AECSæ¥æ”¶å’Œ/æˆ–äº§ç”Ÿè§¦å‘ä¿¡å·åï¼Œåº”æ»¡è¶³ï¼š\\nâ€”â€”åœ¨éæ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­ä¿å­˜MSDï¼Œå¹¶é€šè¿‡å¯ä¿¡çš„èº«ä»½è®¤è¯å°†MSDå‘é€è‡³ç´§æ€¥å‘¼å«æœåŠ¡å¹³å°ï¼Œå¹¶ä¸ç´§æ€¥å‘¼å«æœåŠ¡å¹³å°å»ºç«‹åŒå‘è¯­éŸ³é€šè¯è¿æ¥ï¼›\\\
            nâ€”â€”è‹¥MSDå‘é€å¤±è´¥ï¼Œåˆ™ä»¥ä¸è¶…è¿‡2 minçš„æ—¶é—´é—´éš”å°è¯•å†æ¬¡å‘é€MSDç›´è‡³å‘é€æˆåŠŸæˆ–å°è¯•æ—¶é—´è¶…è¿‡60 minï¼›\\nâ€”â€”è‹¥è¯­éŸ³é€šè¯å¤±è´¥ï¼Œåˆ™ä»¥ä¸è¶…è¿‡2\
            \ minçš„æ—¶é—´é—´éš”å°è¯•å†æ¬¡å»ºç«‹è¯­éŸ³é€šè¯ç›´è‡³è¿æ¥æˆåŠŸæˆ–å°è¯•æ—¶é—´è¶…è¿‡60 minã€‚\",\n            \"children\"\
            : []\n          },\n      ...\n      ],\n  },\n\n\n## è¾“å‡ºç¤ºä¾‹ä¸€\n\n\n{\n\"\
            å®éªŒç¼–å·\": \"T4-1\",\n\"å®éªŒç›®çš„\": \"éªŒè¯AECSåœ¨è§¦å‘ä¿¡å·åä¿å­˜MSDã€å‘é€MSDå¹¶å»ºç«‹è¯­éŸ³é€šè¯\",\n\"å®éªŒæ¡ä»¶\"\
            : \"AECSè§¦å‘ï¼Œç½‘ç»œè¿æ¥å¯ç”¨ï¼Œéæ˜“å¤±æ€§å­˜å‚¨å™¨å¯è®¿é—®\",\n\"å…·ä½“æ­¥éª¤\": \"1. è§¦å‘AECSï¼›\\n2. æ£€æŸ¥éæ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­MSDä¿å­˜çŠ¶æ€ï¼›\\\
            n3. éªŒè¯MSDé€šè¿‡å¯ä¿¡èº«ä»½è®¤è¯å‘é€è‡³ç´§æ€¥å‘¼å«æœåŠ¡å¹³å°ï¼›\\n4. å»ºç«‹åŒå‘è¯­éŸ³é€šè¯è¿æ¥\",\n\"æ£€æµ‹é¡¹\": \"MSDä¿å­˜çŠ¶æ€ã€å‘é€è®¤è¯çŠ¶æ€ã€é€šè¯è¿æ¥çŠ¶æ€\"\
            ,\n\"åˆ¤å®šæ ‡å‡†\": \"MSDä¿å­˜åœ¨éæ˜“å¤±æ€§å­˜å‚¨å™¨ä¸­ï¼Œé€šè¿‡è®¤è¯æˆåŠŸå‘é€ï¼Œå¹¶å»ºç«‹è¯­éŸ³é€šè¯\",\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.1.3\"\
            ,\n\"ref\": \"\"\n},\n{\n\"å®éªŒç¼–å·\": \"T4-2\",\n\"å®éªŒç›®çš„\": \"éªŒè¯MSDå‘é€å¤±è´¥æ—¶é‡è¯•æœºåˆ¶\"\
            ,\n\"å®éªŒæ¡ä»¶\": \"æ¨¡æ‹ŸMSDå‘é€å¤±è´¥ï¼ˆå¦‚ç½‘ç»œæ–­å¼€ï¼‰ï¼ŒAECSè§¦å‘\",\n\"å…·ä½“æ­¥éª¤\": \"1. è§¦å‘AECSå¯¼è‡´MSDå‘é€å¤±è´¥ï¼›\\\
            n2. è®°å½•é‡è¯•è¡Œä¸ºï¼ŒåŒ…æ‹¬æ—¶é—´é—´éš”å’Œå°è¯•æŒç»­æ—¶é—´\",\n\"æ£€æµ‹é¡¹\": \"é‡è¯•æ—¶é—´é—´éš”ã€å°è¯•æ¬¡æ•°æˆ–æ€»æ—¶é—´\",\n\"åˆ¤å®šæ ‡å‡†\":\
            \ \"é‡è¯•æ—¶é—´é—´éš”ä¸è¶…è¿‡2åˆ†é’Ÿï¼Œä¸”å°è¯•æ—¶é—´ä¸è¶…è¿‡60åˆ†é’Ÿ\",\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.1.3\",\n\"ref\": \"\
            \"\n},\n\n## è¾“å…¥ç¤ºä¾‹äºŒ\n\n\n# é™„å½•Bçš„éƒ¨åˆ†å†…å®¹ï¼Œä»…ä½œç¤ºä¾‹\n  {\n    \"chapter_id\": \"é™„å½•\
            \ B\",\n    \"chapter_title\": \"è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•\",\n    \"full_path\": \"é™„å½•B\
            \ è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•\",\n    \"raw_text\": \"\",\n    \"children\": [\n        \
            \  {\n        \"chapter_id\": \"B.2\",\n        \"chapter_title\": \"\
            è¯•éªŒé¡¹ç›®\",\n        \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®\",\n        \"\
            raw_text\": \"\",\n        \"children\": [\n          {\n            \"\
            chapter_id\": \"B.2.1\",\n            \"chapter_title\": \"æ­£é¢ç¢°æ’\",\n \
            \           \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1 æ­£é¢ç¢°æ’\",\n   \
            \         \"raw_text\": \"\",\n            \"children\": [\n         \
            \     {\n                \"chapter_id\": \"B.2.1.1\",\n              \
            \  \"chapter_title\": \"æ»‘å°æ­£é¢ç¢°æ’è¯•éªŒ\",\n                \"full_path\": \"\
            é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1 æ­£é¢ç¢°æ’/B.2.1.1 æ»‘å°æ­£é¢ç¢°æ’è¯•éªŒ\",\n               \
            \ \"raw_text\": \"å°†ç™½è½¦èº«å›ºå®šåœ¨ç¢°æ’è¯•éªŒæ»‘å°ä¸Šï¼Œå®‰è£…æ–¹å‘æ¨¡æ‹Ÿæ­£é¢ç¢°æ’ã€‚æ»‘å°æŒ‰ç…§å›¾B.1çš„åŠ é€Ÿåº¦é€šé“èŒƒå›´å’Œè¡¨B.1çš„å‚æ•°è¿›è¡ŒåŠ é€Ÿæˆ–å‡é€Ÿï¼Œé€Ÿåº¦å˜åŒ–é‡â–³Våº”ä¸º26.6\
            \ km/hÂ±1 km/hã€‚\\n\\næ ¹æ®åˆ¶é€ å•†è¦æ±‚ï¼Œä¹Ÿå¯ä½¿ç”¨åˆ¶é€ å•†ç”³æŠ¥çš„æ°”å›Šå¿…çˆ†é™åŠ é€Ÿåº¦æ³¢å½¢è¿›è¡Œè¯•éªŒï¼Œå³æŒ‰ç…§æ°”å›Šèµ·çˆ†æœ€ä½é€Ÿåº¦è¿›è¡Œæ­£é¢åˆšæ€§å£éšœç¢°æ’è¯•éªŒæ—¶ï¼Œåœ¨è½¦èº«éå˜å½¢åŒºåŸŸé‡‡é›†çš„åŠ é€Ÿåº¦-æ—¶é—´æ›²çº¿ï¼Œé‡‡ç”¨CFC\
            \ 60æˆ–100 Hzä½é€šè¿›è¡Œæ»¤æ³¢ã€‚å®é™…è¯•éªŒç»“æœæ³¢å½¢çš„ç§¯åˆ†é€Ÿåº¦å˜åŒ–é‡â–³Vs(t)åº”åœ¨ä»»æ„æ—¶åˆ»ï¼Œä¸è¶…è¿‡ç”³æŠ¥æ³¢å½¢çš„ç§¯åˆ†é€Ÿåº¦å˜åŒ–é‡â–³Vt(t)Â±1\
            \ km/hçš„èŒƒå›´ï¼Œå³åº”æ»¡è¶³â–³Vt(t)-1â‰¤â–³Vs(t)â‰¤â–³Vt(t)+1ï¼Œå•ä½km/hã€‚\",\n                \"\
            children\": []\n              },\n          },\n          ...\n      ],\n\
            \  },\n\n\n## è¾“å‡ºç¤ºä¾‹äºŒ\n\n// ä¸Šè¿°è¾“å…¥ä¸­ä»…åŒ…å«å¦‚ä¸‹å†…å®¹ï¼Œä½†å®é™…è¾“å…¥è¯·ä¾æ®å®é™…è¾“å‡ºï¼\n\n[\n  {\n    \"\
            å®éªŒç¼–å·\": \"T4-1\",\n    \"å®éªŒç›®çš„\": \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒï¼‰\",\n    \"å®éªŒæ¡ä»¶\"\
            : \"AECSç›¸å…³éƒ¨ä»¶ï¼ˆæ§åˆ¶æ¨¡å—ã€é€šä¿¡æ¨¡å—ã€ç”µæºã€è¿æ¥å™¨ã€å¤©çº¿ã€GNSSæ¥æ”¶æœºã€ç¢°æ’æ„ŸçŸ¥å…ƒä»¶ï¼‰æŒ‰ç…§åŸè½¦çŠ¶æ€å®‰è£…åœ¨ç™½è½¦èº«ä¸Šï¼›æ»‘å°å®‰è£…æ–¹å‘æ¨¡æ‹Ÿæ­£é¢ç¢°æ’ï¼›æ»‘å°åŠ é€Ÿåº¦æŒ‰ç…§å›¾B.1é€šé“èŒƒå›´å’Œè¡¨B.1å‚æ•°è®¾ç½®ï¼Œé€Ÿåº¦å˜åŒ–é‡â–³Vä¸º26.6\
            \ km/hÂ±1 km/h\",\n    \"å…·ä½“æ­¥éª¤\": \"1. å°†ç™½è½¦èº«å›ºå®šåœ¨ç¢°æ’è¯•éªŒæ»‘å°ä¸Šï¼› 2. æ‰§è¡Œæ»‘å°æ­£é¢ç¢°æ’è¯•éªŒï¼› 3.\
            \ è§‚å¯ŸAECSè§¦å‘çŠ¶æ€ï¼› 4. æ•è·å¹¶åˆ†æå‘é€çš„MSDæ•°æ®åŒ…\",\n    \"æ£€æµ‹é¡¹\": \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\",\n \
            \   \"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1ã€B.2.1.1\"\
            \n    \"ref\": \"\"\n  },\n  {\n    \"å®éªŒç¼–å·\": \"T4-2\",\n    \"å®éªŒç›®çš„\"\
            : \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒ-æ°”å›Šå¿…çˆ†é™åŠ é€Ÿåº¦æ³¢å½¢æ–¹æ¡ˆï¼‰\",\n    \"å®éªŒæ¡ä»¶\": \"æŒ‰ç…§æ°”å›Šèµ·çˆ†æœ€ä½é€Ÿåº¦è¿›è¡Œæ­£é¢åˆšæ€§å£éšœç¢°æ’è¯•éªŒæ—¶ï¼Œåœ¨è½¦èº«éå˜å½¢åŒºåŸŸé‡‡é›†çš„åŠ é€Ÿåº¦-æ—¶é—´æ›²çº¿ï¼Œé‡‡ç”¨CFC\
            \ 60æˆ–100 Hz ä½é€šè¿›è¡Œæ»¤æ³¢\",\n    \"å…·ä½“æ­¥éª¤\": \"1. æŒ‰ç”³æŠ¥æ³¢å½¢æ‰§è¡Œç¢°æ’\\n2. é‡‡é›†éå˜å½¢åŒºåŠ é€Ÿåº¦æ›²çº¿\\\
            n3. è®¡ç®—â–³Vs(t)\",\n    \"æ£€æµ‹é¡¹\": \"1. é€Ÿåº¦å˜åŒ–é‡â–³Vs(t)\\n2. è§¦å‘ç±»å‹\",\n    \"åˆ¤å®šæ ‡å‡†\"\
            : \"1. Vt(t)-1â‰¤â–³Vs(t)â‰¤â–³Vt(t)+1km/h\\n2. è‡ªåŠ¨è§¦å‘\",\n    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"\
            4.4.1ã€B.2.1.1\"\n    \"ref\": \"\"\n  },\n  {\n    \"å®éªŒç¼–å·\": \"T4-3\"\
            ,\n    \"å®éªŒç›®çš„\": \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’å®è½¦è¯•éªŒ)\",\n    \"å®éªŒæ¡ä»¶\": \"è¯•éªŒè½¦è¾†èƒ½åæ˜ è¯¥ç³»åˆ—äº§å“ç‰¹å¾ï¼Œè£…å¤‡æ­£å¸¸å®‰è£…å¹¶å¤„äºå¯è¿è¡ŒçŠ¶æ€ï¼›æŒ‰GB\
            \ 11551è§„å®šè°ƒæ•´è½¦è¾†çŠ¶æ€ä½†ä¸å®‰è£…ç¢°æ’å‡äººï¼›ç¢°æ’é€Ÿåº¦ä¸é«˜äº30 km/h\",\n    \"å…·ä½“æ­¥éª¤\": \"1. å‡†å¤‡è½¦è¾†ï¼› 2.\
            \ æ‰§è¡Œå®è½¦æ­£é¢ç¢°æ’è¯•éªŒï¼› 3. è§‚å¯ŸAECSè§¦å‘çŠ¶æ€ï¼› 4. æ•è·å¹¶åˆ†æå‘é€çš„MSDæ•°æ®åŒ…\",\n    \"æ£€æµ‹é¡¹\": \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\"\
            ,\n    \"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1ã€B.2.1.2\"\
            \n    \"ref\": \"GB 11551\"\n  }\n]\n"
        - id: 2e9d1c4a-c4db-43df-8440-34e0a4e324ca
          role: user
          text: 'chapter_textï¼š{{#1752730418049.item#}}

            tables:{{#1752737813275.tables#}}'
        selected: false
        title: LLM 1
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1752730445843'
      parentId: '1752730418049'
      position:
        x: 204
        y: 73
      positionAbsolute:
        x: 830.3360859321056
        y: 459.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import pdfplumber\nimport re\nimport json\nimport os\nfrom collections\
          \ import defaultdict\nfrom typing import List, Dict, Tuple, Optional\n\n\
          # ç« èŠ‚æ ‡é¢˜æ­£åˆ™ï¼ˆæ”¯æŒ 1ã€1.1ã€1.1.1ã€é™„å½•Aã€A.1 ç­‰ï¼‰\nchapter_patterns = [\n    re.compile(r'^(é™„\\\
          s*å½•\\s*[A-Z])\\s+(.+)$'),                        # é™„å½•A xxx\n    re.compile(r'^([A-Z](?:\\\
          .\\d+)+)\\s+(.+)$'),                        # A.1ã€B.2.3\n    re.compile(r'^(\\\
          d+(?:\\.\\d+)*)(\\s+)(.+)$'),                        # 4ã€4.1ã€4.1.2\n]\n\n\
          # è¡¨æ ¼æ ‡é¢˜æ­£åˆ™ï¼ˆè¡¨X.xå½¢å¼ï¼‰\ntable_id_regex = re.compile(r'^\\s*è¡¨\\s*([A-Z]*\\d+(?:\\\
          .[\\d]+)*)\\s*$')  # åŒ¹é…è¡¨1.1, è¡¨A.1ç­‰\n\ndef detect_chapter(line: str):\n \
          \   for pattern in chapter_patterns:\n        m = pattern.match(line)\n\
          \        if m:\n            return {\n                \"chapter_id\": m.group(1).strip(),\n\
          \                \"chapter_title\": m.group(len(m.groups())).strip()\n \
          \           }\n    return None\n\ndef build_tree(chapter_list: List[Dict])\
          \ -> List[Dict]:\n    id_map = {}\n    root = []\n\n    # åˆå§‹åŒ– id_map\n \
          \   for chap in chapter_list:\n        chap[\"children\"] = []\n       \
          \ id_map[chap[\"chapter_id\"]] = chap\n\n    # æ„å»ºæ™®é€šçˆ¶å­å…³ç³»\n    for chap in\
          \ chapter_list:\n        parts = chap[\"chapter_id\"].split(\".\")\n   \
          \     if len(parts) == 1 or chap[\"chapter_id\"].startswith(\"é™„å½•\"):\n \
          \           root.append(chap)\n        else:\n            parent_id = \"\
          .\".join(parts[:-1])\n            parent = id_map.get(parent_id)\n     \
          \       if parent:\n                parent[\"children\"].append(chap)\n\
          \            else:\n                # æ£€æŸ¥æ˜¯å¦æ˜¯ A.1, B.2 è¿™ç±»æ ¼å¼\n            \
          \    if len(parts) == 2 and len(parts[0]) == 1 and parts[0].isupper():\n\
          \                    appendix_id = f\"é™„å½•{parts[0]}\"\n                 \
          \   appendix_title = f\"é™„å½•{parts[0]}\"\n                    if appendix_id\
          \ not in id_map:\n                        appendix_node = {\n          \
          \                  \"chapter_id\": appendix_id,\n                      \
          \      \"chapter_title\": appendix_title,\n                            \"\
          raw_text\": \"\",\n                            \"children\": []\n      \
          \                  }\n                        id_map[appendix_id] = appendix_node\n\
          \                        root.append(appendix_node)\n                  \
          \  else:\n                        appendix_node = id_map[appendix_id]\n\
          \                    appendix_node[\"children\"].append(chap)\n        \
          \        else:\n                    root.append(chap)  # fallback\n\n  \
          \  return root\n\ndef build_full_path(chapters: List[Dict], path_prefix=\"\
          \"):\n    for chap in chapters:\n        if path_prefix:\n            chap[\"\
          full_path\"] = f\"{path_prefix}/{chap['chapter_id']} {chap['chapter_title']}\"\
          \n        else:\n            chap[\"full_path\"] = f\"{chap['chapter_id']}\
          \ {chap['chapter_title']}\"\n        if chap.get(\"children\"):\n      \
          \      build_full_path(chap[\"children\"], chap[\"full_path\"])\n\ndef fullwidth_to_halfwidth(text:\
          \ str) -> str:\n    result = []\n    for char in text:\n        code = ord(char)\n\
          \        if 0xFF01 <= code <= 0xFF5E:  # å…¨è§’å­—ç¬¦èŒƒå›´\n            result.append(chr(code\
          \ - 0xFEE0))\n        else:\n            result.append(char)\n    return\
          \ ''.join(result)\n\n\ndef is_valid_next_chapter(prev_parts: list, chapter_id:\
          \ str) -> bool:\n    \"\"\"\n    åˆ¤æ–­ chapter_id æ˜¯å¦å¯èƒ½ä¸ºå‰ä¸€ä¸ªç« èŠ‚å·çš„â€œä¸‹ä¸€ä¸ªâ€åˆæ³•ç¼–å·ã€‚\n\
          \    prev_parts: å‰ä¸€ä¸ªæœ‰æ•ˆç« èŠ‚å·æŒ‰'.'åˆ†å‰²åçš„ int åˆ—è¡¨ï¼Œä¾‹å¦‚ [4,1,10]\n    chapter_id: å½“å‰å¾…æ£€æµ‹çš„ç« èŠ‚å·å­—ç¬¦ä¸²ï¼Œå¦‚\
          \ \"4.2\"\n    è¿”å› True è¡¨ç¤ºåˆæ³•ï¼ŒFalse è¡¨ç¤ºéæ³•\n    \"\"\"\n    # 1. è¿‡æ»¤å¸¦å•ä½çš„ä¼ªç¼–å·\n\
          \    if re.search(r'\\d+\\s*(mm|cm|kg|km/h|%|â„ƒ)', chapter_id, re.I):\n \
          \       return False\n\n    # 2. é™„å½•ç›´æ¥æ”¾è¿‡\n    if re.match(r'^[A-Z](?:\\.\\\
          d+)*$', chapter_id):\n        return True\n\n    # 3. è§£æä¸ºæ•°å­—åˆ—è¡¨\n    try:\n\
          \        parts = [int(p) for p in chapter_id.split('.')]\n    except ValueError:\n\
          \        return False\n\n    # # 4. é¦–ç« ç›´æ¥é€šè¿‡\n    # if not prev_parts:\n \
          \   #     return True\n\n    # 5. åŒå±‚é€’å¢ï¼š4.1.10 -> 4.1.11\n    if len(parts)\
          \ == len(prev_parts) and parts[:-1] == prev_parts[:-1] and parts[-1] ==\
          \ prev_parts[-1] + 1:\n        return True\n\n    # 6. å‡å±‚ï¼š4.1.10 -> 4.2\n\
          \    if len(parts) < len(prev_parts) and parts[:-1] == prev_parts[:len(parts)-1]\
          \ and parts[-1] == prev_parts[len(parts) - 1] + 1:\n        return True\n\
          \n    # 7. å­å±‚ï¼š4.1.10 -> 4.1.10.1\n    if len(parts) == len(prev_parts) +\
          \ 1 and parts[:-1] == prev_parts and parts[-1] == 1:\n        return True\n\
          \n    return False\n\ndef build_term_dict(raw_text: str) -> Dict[str, str]:\n\
          \    \"\"\"\n    è¿”å›: {ä¸­æ–‡æœ¯è¯­: è‹±æ–‡æœ¯è¯­}\n    \"\"\"\n    # æŠŠå¤šä¸ªæ¢è¡Œå‹æˆä¸€ä¸ª\n    text\
          \ = re.sub(r'\\n+', '\\n', raw_text.strip())\n\n    # å…³é”®æ­£åˆ™ï¼š\n    # 3.1\\\
          n\n    # ä¸­æ–‡æœ¯è¯­è‹±æ–‡å­—ç¬¦ä¸²ï¼ˆä¸­é—´æ— æ¢è¡Œï¼‰\n    # ç„¶åä¸€ä¸ªæ¢è¡Œå¼€å§‹æè¿°\n    pattern = re.compile(\n\
          \        r'^\\d+\\.\\d+\\n'                     # 3.1\n        r'(?P<cn>[^\\\
          n]*?)\\s*'             # ä¸­æ–‡æœ¯è¯­ï¼ˆæ— æ¢è¡Œï¼‰\n        r'(?P<en>[A-Za-z].*?)\\s*(?=\\\
          n)',  # è‹±æ–‡æœ¯è¯­ï¼ˆç›´åˆ°æ¢è¡Œï¼‰\n        re.MULTILINE\n    )\n\n    term_map = {}\n \
          \   for m in pattern.finditer(text):\n        cn = m.group(\"cn\").strip()\n\
          \        en = m.group(\"en\").strip()\n        if cn and en:\n         \
          \   term_map[cn] = en\n    return term_map\n\ndef parse_pdf_to_chapter_tree(pdf_path:\
          \ str) -> Tuple[List[Dict], Dict[str, str]]:\n    with pdfplumber.open(pdf_path)\
          \ as pdf:\n        lines = []\n        for page in pdf.pages:\n        \
          \    text = page.extract_text()\n            if text:\n                lines\
          \ += text.split(\"\\n\")\n\n    chapters = []\n    current = None\n    buffer\
          \ = []\n\n    for line in lines:\n        line = line.strip()\n        line\
          \ = fullwidth_to_halfwidth(line)\n        chapter_info = detect_chapter(line)\n\
          \n        if chapter_info:\n            if current:\n                current[\"\
          raw_text\"] = \"\\n\".join(buffer).strip()\n                chapters.append(current)\n\
          \                buffer = []\n            current = {\n                \"\
          chapter_id\": chapter_info[\"chapter_id\"],\n                \"chapter_title\"\
          : chapter_info[\"chapter_title\"],\n                \"raw_text\": \"\"\n\
          \            }\n        else:\n            buffer.append(line)\n\n    if\
          \ current:\n        current[\"raw_text\"] = \"\\n\".join(buffer).strip()\n\
          \        chapters.append(current)\n\n    # âœ… æ–°å¢ï¼šè¿‡æ»¤æ‰â€œèŒƒå›´â€ä¹‹å‰çš„ç« èŠ‚\n    start_index\
          \ = 0\n    for i, chap in enumerate(chapters):\n        if chap.get(\"chapter_id\"\
          ) == \"1\" and chap.get(\"chapter_title\", \"\") == \"èŒƒå›´\":\n          \
          \  start_index = i\n            break\n    print(start_index)\n    filtered_chapters\
          \ = chapters[start_index:]\n\n    # # å½“raw_textä¸ºç©ºä¸”childrenéƒ½ä¸ºç©ºåˆ—è¡¨æ—¶ï¼Œå°†chapter_titleç§»åŠ¨åˆ°raw_text\n\
          \    # for chap in filtered_chapters:\n    #     if not chap.get(\"raw_text\"\
          ) and not chap.get(\"children\"):\n    #         chap[\"raw_text\"] = chap.get(\"\
          chapter_title\", \"\")\n    #         chap[\"chapter_title\"] = \"\"\n\n\
          \n    # \U0001F50D å†åšé€’å¢æ ¡éªŒ\n    valid_chapters = [filtered_chapters[0]]\n\
          \    prev_parts = [1,]\n\n    for chap in filtered_chapters[1:]:\n     \
          \   cid = chap[\"chapter_id\"]\n        if not is_valid_next_chapter(prev_parts,\
          \ cid):\n            print(f\"æ— æ•ˆç« èŠ‚: {cid}, æ ‡é¢˜: {chap['chapter_title']}\"\
          )\n            # è¿½åŠ åˆ°æœ€è¿‘æœ‰æ•ˆç« èŠ‚\n            if valid_chapters:             \
          \          # æœ‰æœ‰æ•ˆç« èŠ‚\n                valid_chapters[-1][\"raw_text\"] +=\
          \ \"\\n\" + chap['chapter_id'] + chap[\"chapter_title\"]\n             \
          \   print(f\"è¿½åŠ åˆ°ä¸Šä¸€æœ‰æ•ˆç« èŠ‚: {valid_chapters[-1]['chapter_id']}\")\n        \
          \    continue\n\n        print(f\"æœ‰æ•ˆç« èŠ‚: {cid}, æ ‡é¢˜: {chap['chapter_title']}\"\
          )\n        valid_chapters.append(chap)                  # é¦–æ¬¡åŠ å…¥åˆ—è¡¨\n\n   \
          \     try:\n            prev_parts = [int(p) for p in cid.split('.')]\n\
          \        except ValueError:\n            # prev_parts = []   # é™„å½•\n    \
          \        pass\n\n    # valid_chapters = filtered_chapters  # ç›´æ¥ä½¿ç”¨è¿‡æ»¤åçš„ç« èŠ‚åˆ—è¡¨\n\
          \n    # æ„å»º full_path\n    tree = build_tree(valid_chapters)\n    build_full_path(tree)\n\
          \    # # åˆ é™¤ç¬¬ä¸€å±‚ç©ºèŠ‚ç‚¹\n    # tree = [n for n in tree if n.get(\"raw_text\")\
          \ or n.get(\"children\")]\n\n    # å‡è®¾ third_chapter æ˜¯ç« èŠ‚æ ‘é‡Œ chapter_id ==\
          \ \"3\" çš„å­—å…¸\n    third_chapter = valid_chapters[2]               # ä½ è§£æåˆ°çš„ç¬¬ä¸‰ç« èŠ‚ç‚¹\n\
          \    raw = third_chapter[\"raw_text\"]\n    term_map = build_term_dict(raw)\n\
          \    # print(term_map)\n\n    return tree, term_map\n\nimport re\nfrom collections\
          \ import defaultdict\nfrom typing import List, Dict\nimport pdfplumber\n\
          \n\ndef extract_tables_from_pdf(pdf_path: str) -> List[Dict]:\n    \"\"\"\
          \n    ä»PDFä¸­æå–æ‰€æœ‰è¡¨æ ¼åŠå…¶æ ‡è¯†\n    è¿”å›æ ¼å¼: [{\"table_id\": \"è¡¨X.x æ ‡é¢˜\", \"table_content\"\
          : äºŒç»´æ•°ç»„}, ...]\n    \"\"\"\n    all_tables = []\n\n    with pdfplumber.open(pdf_path)\
          \ as pdf:\n        for page_num, page in enumerate(pdf.pages):\n       \
          \     # ---- 1. å…ˆæ”¶é›†é¡µé¢æ–‡æœ¬è¡ŒåŠå…¶ y åæ ‡ï¼Œæ–¹ä¾¿åé¢æ‰¾æ ‡é¢˜ ----\n            page_lines = []\n\
          \            if page.extract_text():\n                chars = page.chars\n\
          \                rows = defaultdict(list)\n                for c in chars:\n\
          \                    rows[int(c['top'])].append(c)\n                for\
          \ top in sorted(rows.keys()):\n                    line = ''.join([c['text']\
          \ for c in rows[top]]).strip()\n                    page_lines.append({'text':\
          \ line, 'y': top})\n\n            # ---- 2. æå–å¹¶æ’åºè¡¨æ ¼ ----\n            tables\
          \ = page.find_tables()\n            if not tables:\n                continue\n\
          \            tables = sorted(tables, key=lambda t: t.bbox[1])  # ä»ä¸Šåˆ°ä¸‹\n\n\
          \            # ---- 3. å¤„ç†æ¯ä¸ªè¡¨æ ¼ ----\n            for table_idx, table in\
          \ enumerate(tables):\n                # è¿‡æ»¤ï¼šåªæœ‰ 1 åˆ—çš„ç›´æ¥ä¸¢å¼ƒ\n               \
          \ sample_row = table.extract()[0] if table.extract() else []\n         \
          \       if len(sample_row) <= 1:\n                    continue\n\n     \
          \           # è·å–è¡¨æ ¼å†…å®¹\n                table_data = table.extract()\n   \
          \             cleaned_data = [\n                    [cell.replace('\\n',\
          \ ' ').strip() if cell else \"\" for cell in row]\n                    for\
          \ row in table_data\n                ]\n\n                # ---- æ‰¾æ ‡é¢˜ï¼šåœ¨è¡¨æ ¼ä¸Šæ–¹\
          \ 50 pt å†…æ‰¾â€œè¡¨ X.Y â€¦â€æ•´è¡Œ ----\n                table_top = table.bbox[1]\n\
          \                best_line = None\n                min_gap = float('inf')\n\
          \                for item in page_lines:\n                    if \"è¡¨\" in\
          \ item['text'] and 0 < (table_top - item['y']) < 50:\n                 \
          \       gap = table_top - item['y']\n                        if gap < min_gap:\n\
          \                            min_gap = gap\n                           \
          \ best_line = item['text']\n\n                # ã€ä¿®æ”¹ã€‘é€»è¾‘ï¼šæ‰¾ä¸åˆ°æ ‡é¢˜æ—¶ï¼Œå°è¯•åˆå¹¶åˆ°ä¸Šä¸€å¼ è¡¨\n\
          \                if best_line:\n                    # æ‰¾åˆ°äº†æ ‡é¢˜ -> æ–°å¢ä¸€å¼ è¡¨\n \
          \                   all_tables.append({\n                        \"table_id\"\
          : best_line,\n                        \"table_content\": cleaned_data\n\
          \                    })\n                else:\n                    if all_tables:\n\
          \                        # ã€ä¿®æ”¹ã€‘æ‰¾ä¸åˆ°æ ‡é¢˜ -> æŠŠå½“å‰è¡¨å†…å®¹è¿½åŠ åˆ°ä¸Šä¸€å¼ è¡¨\n                \
          \        all_tables[-1][\"table_content\"].extend(cleaned_data)\n      \
          \              else:\n                        # æ•´ä¸ªæ–‡æ¡£ç¬¬ä¸€å¼ è¡¨å°±æ‰¾ä¸åˆ°æ ‡é¢˜ï¼Œå…œåº•å‘½å\n  \
          \                      table_id = f\"è¡¨-é¡µ{page_num + 1}-è¡¨{table_idx + 1}\"\
          \n                        all_tables.append({\n                        \
          \    \"table_id\": table_id,\n                            \"table_content\"\
          : cleaned_data\n                        })\n\n    return all_tables\n\n\n\
          import tempfile\nimport requests\nfrom urllib.parse import urlparse\n\n\
          def resolve_pdf_path(pdf_path: str) -> str:\n    # å¦‚æœæ˜¯ URLï¼Œå°±ä¸‹è½½åˆ°ä¸´æ—¶æ–‡ä»¶å¤¹\n \
          \   if pdf_path.startswith(\"http://\") or pdf_path.startswith(\"https://\"\
          ):\n        response = requests.get(pdf_path)\n        response.raise_for_status()\n\
          \        suffix = os.path.splitext(urlparse(pdf_path).path)[-1]\n      \
          \  with tempfile.NamedTemporaryFile(delete=False, suffix=suffix) as tmp_file:\n\
          \            tmp_file.write(response.content)\n            return tmp_file.name\n\
          \    else:\n        return pdf_path\n\n\ndef main(url: str) -> dict:\n \
          \   pdf_path = resolve_pdf_path(url)  # å…¼å®¹ URL å’Œæœ¬åœ°è·¯å¾„\n\n\n    # ç« èŠ‚æ ‘\n  \
          \  tree, term_map = parse_pdf_to_chapter_tree(pdf_path)\n    # è¡¨æ ¼\n    tables\
          \ = extract_tables_from_pdf(pdf_path)\n\n    # 1-3 ç« ï¼ˆid ä¸º '1','2','3'ï¼‰\n\
          \    context = str(tree[:3])\n\n    # ç« èŠ‚å†…å®¹\n\n\n    # å…¶ä½™ç« èŠ‚ï¼ˆéé™„å½•ã€éå‰ä¸‰ç« ï¼‰\n \
          \   chapter_text = []\n    for c in tree:\n        if c['chapter_id'] not\
          \ in {\"1\", \"2\", \"3\"} and not c['chapter_id'].startswith(\"é™„å½•\"):\n\
          \            chapter_text.append(str(c))\n\n    appendix = str([c for c\
          \ in tree if c['chapter_id'].startswith(\"é™„å½•\")])\n\n    # è¡¨æ ¼å†…å®¹\n    tables_str\
          \ = str(tables)\n\n    return {\n        \"context\": context,\n       \
          \ \"array\": chapter_text,\n        \"appendix\": appendix,\n        \"\
          tables\": tables_str,\n        \"term_map\":json.dumps(term_map, ensure_ascii=False),\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          appendix:
            children: null
            type: string
          array:
            children: null
            type: array[string]
          context:
            children: null
            type: string
          tables:
            children: null
            type: string
          term_map:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1752117396348'
          - file
          - url
          value_type: file
          variable: url
      height: 53
      id: '1752737813275'
      position:
        x: 334
        y: 386.5
      positionAbsolute:
        x: 334
        y: 386.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: Chen Huaji
        desc: ''
        height: 116
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"è¿™é‡Œå…ˆç®€å•çš„ç›´æ¥å°†å…¶æ•°ç»„å…¨éƒ¨æ”¾å…¥è¿­ä»£ï¼Œåç»­å¯ä»¥å…ˆåˆ¤æ–­è¯¥ç« èŠ‚æ˜¯å¦å¯ä»¥æå–æµ‹è¯•ç”¨ä¾‹ï¼Œå¦‚æœä¸å¯ä»¥åˆ™ç›´æ¥è·³è¿‡","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 272
      height: 116
      id: '1752739174100'
      position:
        x: 874.6692761778318
        y: 198.1358024278445
      positionAbsolute:
        x: 874.6692761778318
        y: 198.1358024278445
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 272
    - data:
        author: Chen Huaji
        desc: ''
        height: 137
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"æ­¤å¤„ä½¿ç”¨çš„æµ‹è¯•ç”¨ä¾‹ï¼›","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"æ­£åœ¨è¿›è¡Œæå–pdfä¸ºæ ¼å¼åŒ–æ–‡æ¡£çš„æ“ä½œï¼Œæ•°æ®ç»“æ„æš‚å®šå¦‚ä¸‹ï¼š","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"{
          ","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"chapter_id\":
          \"3\", ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"chapter_title\":
          \"æœ¯è¯­å’Œå®šä¹‰\", ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"full_path\":
          \"3 æœ¯è¯­å’Œå®šä¹‰\", ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"raw_text\":
          \"ä¸‹åˆ—æœ¯è¯­å’Œå®šä¹‰é€‚ç”¨äºæœ¬æ–‡ä»¶ã€‚\", ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"\"children\":
          [] ","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"},","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 299
      height: 137
      id: '1752748874609'
      position:
        x: 295.3672652120056
        y: 451.37038258369523
      positionAbsolute:
        x: 295.3672652120056
        y: 451.37038258369523
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 299
    - data:
        author: Chen Huaji
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"å¤„ç†å¯¹äºé™„å½•çš„å¼•ç”¨å’Œæœ¬ç« èŠ‚å…¶å®ƒæ¡æ¬¾çš„å¼•ç”¨","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1752810016224'
      position:
        x: 1360.1085138625185
        y: 198.1358024278445
      positionAbsolute:
        x: 1360.1085138625185
        y: 198.1358024278445
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        code: "import json\nimport re\n\nimport json\nimport ast\nimport re\nfrom\
          \ typing import Dict, List, Any\n\ndef parse_input(src: str) -> List[Dict[str,\
          \ Any]]:\n    \"\"\"é¢„å¤„ç†å¹¶è§£æè¾“å…¥å­—ç¬¦ä¸²ä¸ºåˆ—è¡¨å­—å…¸ç»“æ„\"\"\"\n    try:\n        # å»é™¤ LLM\
          \ æ€ç»´é“¾æ ‡è®°\n        try: \n            src = re.sub(r'<think>.*?</think>',\
          \ '', src, flags=re.DOTALL).strip()\n        except:\n            pass\n\
          \n        try:\n            data = json.loads(src)\n        except json.JSONDecodeError:\n\
          \            try:\n                if src.startswith('\\ufeff'):\n     \
          \               src = src[1:]\n                data = ast.literal_eval(src)\n\
          \            except (SyntaxError, ValueError):\n                try:\n \
          \                   processed = src.replace('\\\\\"', '\"').replace('\\\\\
          n', '\\n')\n                    data = json.loads(processed)\n         \
          \       except Exception as e:\n                    raise ValueError(f\"\
          æ— æ³•è§£æï¼š{str(e)}\")\n\n        # ä¿è¯ä¸º list\n        if isinstance(data, dict):\n\
          \            return [data]\n        elif isinstance(data, list):\n     \
          \       return data\n        else:\n            return []\n    except Exception\
          \ as e:\n        # raise ValueError(f\"é¢„å¤„ç†å¤±è´¥: {str(e)}\")\n        return\
          \ []\n\n\ndef main(raw_text: str) -> dict:\n    # # 1. å»æ‰ <think>...</think>\n\
          \    # clean_text = re.sub(r'<think>.*?</think>', '', raw_text, flags=re.DOTALL).strip()\n\
          \n    \n    \n\n    # return {\"test_cases\": clean_text}\n\n    data =\
          \ parse_input(raw_text)\n\n    unfinished = []\n    finished = []\n    for\
          \ item in data:\n        if not isinstance(item, dict):\n            unfinished.append(item)\n\
          \            continue\n\n        ref_raw = str(item.get(\"ref\", \"\")).strip()\n\
          \        # åˆ¤æ–­æ˜¯å¦ä»…ç”±\"GB\"æˆ–\"å›¾\"å¼€å¤´çš„éƒ¨åˆ†ç»„æˆ\n        valid = True\n        for\
          \ part in re.split(r'[,ï¼Œã€]', ref_raw):\n            part = part.strip()\n\
          \            if part and not (part.startswith(\"GB\") or part.startswith(\"\
          GA\") or part.startswith(\"å›¾\")):\n                valid = False\n     \
          \           break\n\n        if valid:\n            finished.append(item)\n\
          \        else:\n            unfinished.append(item)\n\n    return {\n  \
          \      \"test_cases\":json.dumps(unfinished, ensure_ascii=False),\n    \
          \    \"finished\":json.dumps(finished, ensure_ascii=False)\n    }"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        outputs:
          finished:
            children: null
            type: string
          test_cases:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 2
        type: code
        variables:
        - value_selector:
          - '1752730445843'
          - text
          value_type: string
          variable: raw_text
      height: 53
      id: '1753070274269'
      parentId: '1752730418049'
      position:
        x: 508
        y: 91
      positionAbsolute:
        x: 1134.3360859321056
        y: 477.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: true
          variable_selector:
          - '1752737813275'
          - context
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        model:
          completion_params:
            stop:
            - '[''```'']'
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 477d96c6-a56b-4928-b2e9-2f8330845baa
          role: system
          text: "# è§’è‰²\nä½ æ˜¯ä¸€åä¸“ä¸šçš„æ ‡å‡†æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸“å®¶ï¼Œæ“…é•¿æ ¹æ®å›½å®¶æ ‡å‡†æˆ–è¡Œä¸šæ ‡å‡†ä¸­å‡ºç°çš„â€œå¼•ç”¨æ¡æ¬¾â€â€œå¼•ç”¨é™„å½•â€â€œå¼•ç”¨å¤–éƒ¨æ–‡ä»¶â€ç­‰å†…å®¹ï¼Œè¿›è¡Œä¸¥æ ¼çš„å±•å¼€å’Œæ‹†è§£ï¼Œç¡®ä¿æµ‹è¯•ç”¨ä¾‹æè¿°å®Œæ•´ã€è‡ªåŒ…å«ï¼Œæ— éœ€äººå·¥äºŒæ¬¡è·³è½¬æˆ–æ¨ç†ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¯¹ä¹‹å‰ç”Ÿæˆçš„å«æœ‰å¼•ç”¨è¯­å¥çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒåŸºäºåŸå§‹å¼•ç”¨ä½ç½®å†…å®¹è¿›è¡Œè¡¥å…¨ï¼Œç¡®ä¿æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹åœ¨ç»“æ„å’ŒæŠ€æœ¯å†…å®¹ä¸Šå®Œæ•´ä¸€è‡´ï¼Œæ»¡è¶³ç›´æ¥æ‰§è¡Œéœ€æ±‚ã€‚\n\
            \n---\n\n# ä»»åŠ¡ç›®æ ‡\nä½ å°†æ¥æ”¶ä¸€ç»„æµ‹è¯•ç”¨ä¾‹ï¼ˆç”±ä¸Šä¸€é˜¶æ®µåˆæ­¥æå–ï¼Œä½†ä¿ç•™äº†å¯¹é™„å½•æˆ–å…¶å®ƒæ¡æ¬¾çš„å¼•ç”¨å†…å®¹ï¼‰ï¼Œä»¥åŠæ ‡å‡†ä¸­è¢«å¼•ç”¨çš„æ‰€æœ‰é™„å½•ã€ç« èŠ‚å†…å®¹ã€‚è¯·ä½ å®šä½æµ‹è¯•ç”¨ä¾‹ä¸­æ‰€æœ‰å¼•ç”¨å†…å®¹ï¼Œå¹¶é€ä¸€å°†å¼•ç”¨å†…å®¹å®Œæ•´æ›¿æ¢/å±•å¼€ä¸ºå…·ä½“å‚æ•°ã€æ­¥éª¤ã€æ¡ä»¶ã€æ ‡å‡†ç­‰ï¼Œ**ä½¿æ¯æ¡æµ‹è¯•ç”¨ä¾‹æˆä¸ºå®Œå…¨è‡ªåŒ…å«ã€ç»“æ„å®Œæ•´çš„æ¡ç›®**ã€‚\n\
            \n**å½“å±•å¼€æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œåˆå¼•å…¥äº†å…¶å®ƒå¼•ç”¨ï¼ŒåŠ¡å¿…å°†å¼•ç”¨å†…å®¹å¡«å……è‡³refå­—æ®µï¼**ï¼ˆå›¾è¡¨çš„å¼•ç”¨æ— éœ€æ·»åŠ è‡³refå­—æ®µï¼Œä½†éœ€æ­£å¸¸å¤„ç†ï¼‰\n\n---\n\
            \n# è¾“å…¥å†…å®¹åŒ…æ‹¬ï¼š\n- åˆæ­¥ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼ˆtest_casesï¼‰ï¼šç”±ä¸Šä¸€é˜¶æ®µç”Ÿæˆï¼Œå¯èƒ½å­˜åœ¨â€œæŒ‰é™„å½•Xè¯•éªŒâ€ç­‰å¼•ç”¨è¯­å¥ï¼›  \n- æ–‡ç« æ‰€æœ‰çš„è¡¨æ ¼å†…å®¹ï¼ˆtablesï¼Œåªæœ‰å½“å¤„ç†chapter_textéœ€è¦æ—¶æ‰è¯»å–å¯¹åº”è¡¨æ ¼å†…å®¹ï¼‰\n\
            - é™„å½•å†…å®¹ï¼ˆappendix_textï¼‰ï¼šåŒ…å«æ ‡å‡†ä¸­æ‰€æœ‰é™„å½•ï¼Œç»“æ„ä¸åŸæ–‡ä¸€è‡´ï¼›  \n- èƒŒæ™¯ä¸Šä¸‹æ–‡ï¼ˆ{{#context#}}ï¼‰ï¼šå¦‚èŒƒå›´ã€æœ¯è¯­ã€é€‚ç”¨è¯´æ˜ç­‰ï¼Œæœ‰åŠ©äºè¡¥å…¨ä¿¡æ¯ï¼›\n\
            \n---\n\n# è¾“å‡ºæ ¼å¼\n\nåªè¾“å‡ºçº¯ JSON æ•°ç»„ï¼Œæ— ä»»ä½•å‰ç¼€ã€åç¼€ã€è§£é‡Šã€æ³¨é‡Šæˆ– Markdown ä»£ç å—æ ‡è®°ï¼ˆä¾‹å¦‚ä¸è¦åŒ…å«```jsonæˆ–```ï¼‰ï¼Œç¡®ä¿ç»“æœå¯ä»¥è¢«Pythonçš„json.loads()å‡½æ•°ç›´æ¥è§£æï¼Œæ— éœ€é¢å¤–å¤„ç†ã€‚\n\
            \nå½“æ²¡æœ‰ä»»ä½•ç»“æœéœ€è¦è¾“å‡ºæ—¶ï¼Œ**è¿”å›â€œ[]â€å³å¯**ï¼ˆä¸¥æ ¼æ‰§è¡Œï¼Œç¦æ­¢ä»»ä½•é¢å¤–è¾“å‡ºå¯¼è‡´json.loads()å‡½æ•°è§£æå¤±è´¥ï¼‰\n\n[\n\
            {\n\"å®éªŒç¼–å·\": \"\", // ï¼ˆç¼–å·è‡ªåŠ¨ç”Ÿæˆï¼Œå¯¹T4-1è¿›è¡Œå±•å¼€ï¼Œå¾—åˆ°T4-1-1Aã€T4-1-1Bã€T4-1-2...è‹¥å±•å¼€ååªæœ‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåˆ™ä¿ç•™ä¸ºT4-1ï¼‰\n\
            \"å®éªŒç›®çš„\": \"\", // ï¼ˆç®€è¦è¯´æ˜éªŒè¯ç›®æ ‡æˆ–åŠŸèƒ½ï¼‰\n\"å®éªŒæ¡ä»¶\": \"\", // ï¼ˆå¦‚å®‰è£…éƒ¨ä»¶ã€ç”µæºçŠ¶æ€ã€ç¯å¢ƒè¦æ±‚ç­‰ï¼Œå¯åˆ†æ¡ç½—åˆ—ï¼‰\n\
            \"å…·ä½“æ­¥éª¤\": \"\", // ï¼ˆå¦‚æ»‘å°ç¢°æ’ã€é€šä¿¡æµ‹è¯•ã€è‡ªæ£€æ­¥éª¤ç­‰ï¼Œå¯åˆ†æ¡ç½—åˆ—ï¼‰\n\"æ£€æµ‹é¡¹\": \"\",    // ï¼ˆå¦‚åŠ é€Ÿåº¦ã€é€Ÿåº¦å˜åŒ–é‡ã€é€šä¿¡å»¶æ—¶ã€ç»çº¬åº¦ç²¾åº¦ç­‰ï¼Œæ³¨æ„ä¸å®éªŒæ¡ä»¶çš„åŒºåˆ†ï¼‰\n\
            \"åˆ¤å®šæ ‡å‡†\": \"\", // ï¼ˆæ˜ç¡®é€šè¿‡/å¤±è´¥çš„æ¡ä»¶ï¼‰\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"\", // ï¼ˆå¦‚ 4.1.3, B.2.1.2\
            \ ç­‰ï¼‰\n\"ref\": \"\", // ï¼ˆå¦‚GB 11551ã€é™„å½•ã€æœ¬æ–‡å…¶å®ƒæ¡æ¬¾ç­‰çš„å¼•ç”¨ï¼Œå¯¹å›¾ã€è¡¨çš„å¼•ç”¨ç¦æ­¢æ”¾åœ¨æ­¤å¤„ï¼Œå¤šä¸ªå¼•ç”¨ä»¥è‹±æ–‡é€—å·éš”å¼€ï¼‰\n\
            \"parent\":\"\", // ï¼ˆæ–°å¢ï¼Œè®°å½•ç”±å“ªä¸€æ¡æµ‹è¯•ç”¨ä¾‹å±•å¼€ï¼Œä¾‹å¦‚ï¼šå±•å¼€T23-1åç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œparentå¿…é¡»æ˜¯T23-1ï¼›ï¼‰\n\
            },\n]\n\n\n---\n\n# å¤„ç†é€»è¾‘ï¼ˆé“¾å¼æ€è€ƒï¼‰\né¦–å…ˆå°†æ ¹æ®ä¸Šä¸‹æ–‡ç†è§£æœ¬æ–‡ä»¶çš„å‰ç½®èƒŒæ™¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬æœ¯è¯­ã€å‰è¨€ã€èŒƒå›´ç­‰ä¿¡æ¯ï¼Œç„¶åå¯¹äºè¾“å…¥çš„test_casesä¸­çš„æ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š\n\
            \n1. æŸ¥æ‰¾å¯¹äºå­˜åœ¨å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç»“åˆrefå­—æ®µå’Œå®é™…å†…å®¹åˆ†ææ˜¯å¦éœ€è¦å±•å¼€(åŒæ—¶å¼•ç”¨å¤šä¸ªå…¶å®ƒå†…å®¹æ—¶ï¼Œéœ€è¦åŒæ—¶å±•å¼€)ï¼Œå¹¶ç¡®å®šéœ€è¦å±•å¼€çš„é¡¹ç›®ï¼›ä¸éœ€è¦å±•å¼€åˆ™ç›´æ¥è·³è¿‡æ­¤æ¡è¾“å…¥ã€‚\n\
            2. åˆ†ææ˜¯å¦å¯è¾¾ï¼ˆå¯¹é™„å½•çš„å¼•ç”¨è§†ä¸ºå¯è¾¾ï¼‰ï¼š è‹¥å¯è¾¾åˆ™æ‰§è¡Œæ­¥éª¤3ï¼›ä¸å¯è¾¾åˆ™è·³è¿‡æ­¤æ¡è¾“å…¥ï¼Œä¸è¿›è¡Œä»»ä½•å¤„ç†ï¼Œä¸é‡å¤è¾“å‡ºï¼ˆæ— å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹åŒæ ·ä¸åšä»»ä½•è¾“å‡ºï¼‰ï¼ˆæ­¤æ¡ä»…é’ˆå¯¹è¾“å…¥çš„test_casesï¼Œè‹¥åœ¨å¯¹æŸä¸€æ¡test_caseè¿›è¡Œå±•å¼€æ—¶äº§ç”Ÿäº†å­˜åœ¨ä¸å¯è¾¾çš„å¼•ç”¨æ—¶ï¼Œæ­£å¸¸ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼‰\n\
            3. è·³è½¬è‡³å¼•ç”¨ä½ç½®ï¼Œæå–å…¨éƒ¨è¯•éªŒæ­¥éª¤ã€åˆ¤å®šæ ‡å‡†ã€å‚æ•°æ¡ä»¶ç­‰å†…å®¹ï¼Œ**åµŒå…¥åˆ°å½“å‰æµ‹è¯•ç”¨ä¾‹çš„å®éªŒæ¡ä»¶/æ­¥éª¤/åˆ¤å®šæ ‡å‡†ä¸­**ï¼Œå¹¶**åˆ é™¤åŸæœ‰å¼•ç”¨è¯­å¥**ã€‚å…·ä½“å·¥ä½œåŒ…æ‹¬ï¼š\n\
            \   - æ ¹æ®ç”¨æˆ·è¾“å…¥çš„chapter_textçš„å±‚çº§å…³ç³»ä¸æ–­å‘ä¸‹åˆ†æï¼Œç›´åˆ°é‡åˆ°æ­£æ–‡ï¼Œæ­£æ–‡éƒ¨åˆ†ä»¥æ®µè½ä¸ºå•ä½è¿›è¡Œå¤„ç†ã€‚\n   - å¯¹äºæ¯ä¸ªæ®µè½ï¼ˆappendixçš„chapter_title+raw_textä¸­æ¯è¡Œç»“å°¾éƒ½æœ‰æ¢è¡Œç¬¦ï¼Œä¸å‡†ç¡®ï¼Œéœ€è‡ªè¡Œç†è§£æ®µè½ç»“æ„ï¼‰ï¼Œå¦‚æœåŒ…å«å¯æµ‹è¯•è¦æ±‚ï¼Œåˆ™æå–å®éªŒæ¡ä»¶ã€æ£€æµ‹é¡¹/å‚æ•°ã€åˆ¤å®šæ ‡å‡†ï¼Œç”Ÿæˆå®Œæ•´æµ‹è¯•ç”¨ä¾‹ï¼›è‹¥ä¸å­˜åœ¨éœ€åœ¨å†…éƒ¨é€»è¾‘ä¸­å†™å‡ºã€ŒåŸå› ã€å¹¶ç¡®è®¤æ— é—æ¼ï¼ˆä½†æœ€ç»ˆä¸è¾“å‡ºï¼Œåªç”¨äºå†…éƒ¨éªŒè¯ï¼‰ã€‚\n\
            \   - å¯¹äºå…³é”®çš„å‚æ•°éœ€è¦ä»”ç»†æ€è€ƒåæ˜ç¡®å±äºå®éªŒæ¡ä»¶è¿˜æ˜¯æ£€æµ‹é¡¹\n\n4. æ›´æ–°refå­—æ®µï¼Œè§„å®šå¦‚ä¸‹ï¼š\n   - å¯¹äºå·²ç»å±•å¼€çš„å†…å®¹ï¼Œå°†å…¶ä»refä¸­ç§»é™¤ï¼Œä¾‹å¦‚ï¼šè¾“å…¥æµ‹è¯•ç”¨ä¾‹refå­—æ®µä¸ºâ€œé™„å½•Aâ€ï¼Œè¯´æ˜å…¶åŒ…å«å¯¹é™„å½•Açš„å¼•ç”¨ï¼Œå¯¹å¼•ç”¨çš„é™„å½•Aè¿›è¡Œå±•å¼€åï¼Œéœ€è¦å°†refä¸­çš„\n\
            \   - **å½“ä¸”ä»…å½“**ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ—¶åˆå¼•å…¥äº†å¯¹å…¶ä»–å†…å®¹ï¼ˆé™¤äº†å›¾ã€è¡¨ï¼‰çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦å°†å…¶å¡«å……è‡³refå­—æ®µï¼ï¼ˆä¾‹å¦‚ï¼Œåœ¨å±•å¼€å¯¹äºé™„å½•Fçš„å¼•ç”¨æ—¶ï¼Œåˆå¼•å…¥äº†å¯¹äºé™„å½•Açš„å¼•ç”¨ï¼Œæ¯”å¦‚â€œæŒ‰ç…§é™„å½•Aè¦æ±‚â€ç­‰æè¿°ï¼Œéœ€è¦å°†é™„å½•AåŠ å…¥refå­—æ®µï¼‰\n\
            5. æ›´æ–°parentå­—æ®µï¼š\n   - åŠ¡å¿…ç¡®ä¿parentå­—æ®µæ­£ç¡®ï¼Œç”±å“ªä¸ªè¾“å…¥å±•å¼€ï¼Œparentå°±æ˜¯è°ã€‚ä¾‹å¦‚ï¼šå±•å¼€T4-23-1ï¼Œé‚£ä¹ˆå±•å¼€åçš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œparentå¿…é¡»æ˜¯T4-23-1è€Œä¸æ˜¯T4-23\n\
            \næœ€å**è¾“å‡ºå®Œæ•´ jsonæ ¼å¼çš„æµ‹è¯•ç”¨ä¾‹**ï¼Œç¡®ä¿æ‰€æœ‰å¼•ç”¨å†…å®¹å·²è¢«å±•å¼€å¹¶è¡¥å…¨ã€‚\n\n---\n\n\n# æ³¨æ„äº‹é¡¹ \n1. **å¿…é¡»å®Œå…¨ç§»é™¤æ‰€æœ‰å¯è§£æçš„å¼•ç”¨è¯­å¥**ï¼Œå¦‚â€œæŒ‰é™„å½•Xè¯•éªŒâ€ç­‰ï¼Œå¿…é¡»ç´¢å¼•è‡³çœŸå®å†…å®¹åæå–æˆ–å±•å¼€ï¼Œå¯¹äºå¼•ç”¨ä¸­æ¶‰åŠçš„å‚æ•°ã€åˆ¤å®šè§„åˆ™ã€è¯•éªŒæ–¹å¼ç­‰ï¼Œå¿…é¡»å®Œå…¨æå–ï¼›å¤–éƒ¨æ ‡å‡†å¼•ç”¨ï¼ˆå¦‚â€œæŒ‰GB/T\
            \ 12345â€ï¼‰æˆ–å…¶å®ƒç« èŠ‚æ¡æ¬¾æ— æ³•å±•å¼€æ—¶ï¼Œä¸åšä»»ä½•å¤„ç†ï¼ˆä¸å†è¾“å‡ºï¼‰ï¼›\n2. åŠ¡å¿…æŒ‰ç…§â€œå¤„ç†é€»è¾‘â€ä¸­çš„æ­¥éª¤4å’Œ5**æ›´æ–°refå­—æ®µå’Œparentå­—æ®µ**\n\
            3. å®Œæ•´è¾“å‡ºè¦æ±‚ï¼š\n\n   - **å¿…é¡»å®Œæ•´è¾“å‡ºæ‰€æœ‰å¤„ç†åçš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ— è®ºæ•°é‡å¤šå°‘æˆ–å†…å®¹é•¿åº¦**ï¼ˆæ­¤æ¡æœ€ä¸ºé‡è¦ï¼Œè¯·åªè¿›è¡Œä¸€éæ€è€ƒï¼Œé¿å…æ€è€ƒå†…å®¹è¿‡å¤šè€Œè¾“å‡ºæ­£æ–‡è¾ƒå°‘ï¼‰\n\
            \n   - è‹¥è¾“å‡ºå†…å®¹è¶…é•¿ï¼Œå¿…é¡»è‡ªåŠ¨åˆ†æ®µå®Œæ•´è¾“å‡ºï¼Œä¸å¾—æˆªæ–­ä»»ä½•æµ‹è¯•ç”¨ä¾‹\n\n   - æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å¿…é¡»ç‹¬ç«‹å®Œæ•´å‘ˆç°ï¼Œä¸å¾—åˆå¹¶æˆ–ç®€åŒ–\n\
            4. ä»¥æ®µä¸ºå•ä½è¿›è¡Œå¤„ç†ï¼Œè‹¥ä¸å­˜åœ¨æµ‹è¯•ç”¨ä¾‹æ—¶éœ€åœ¨å†…éƒ¨é€»è¾‘ä¸­å†™å‡ºã€ŒåŸå› ã€å¹¶ç¡®è®¤æ— é—æ¼ï¼ˆä½†æœ€ç»ˆä¸è¾“å‡ºï¼Œåªç”¨äºå†…éƒ¨éªŒè¯ï¼‰ã€‚è‹¥å­˜åœ¨å¤šä¸ªæ–¹æ¡ˆï¼Œåº”åˆ†åˆ«å±•å¼€å¹¶ç”Ÿæˆå¤šæ¡æµ‹è¯•ç”¨ä¾‹ä¾‹å¦‚\
            \ å¯¹äºT1å±•å¼€ï¼šT1-1A / T1-1B / T1-2ç­‰ï¼Œå¯¹äºT1-1å±•å¼€ï¼šT1-1-1ã€T1-1-2ç­‰ï¼‰ï¼›\n5. æ¯ä¸ªå¥å­ã€æ¯ä¸ªè¡¥å……æ–¹æ¡ˆã€æ¯ä¸ªå¯é€‰æ–¹æ¡ˆï¼ˆä¾‹å¦‚ã€Œå¯ä½¿ç”¨â€¦ã€ã€Œåˆ¶é€ å•†å¯é€‰â€¦ã€ã€Œå¦ä¸€æ–¹æ¡ˆâ€¦ã€ï¼‰éƒ½å¿…é¡»è§†ä½œç‹¬ç«‹éªŒè¯è·¯å¾„ï¼Œå‡éœ€ç”Ÿæˆç‹¬ç«‹æµ‹è¯•ç”¨ä¾‹ï¼Œç¦æ­¢çœç•¥ã€åˆå¹¶ã€éšè—ã€‚\n\
            6. å¼•ç”¨è¡¨æ ¼æ—¶ï¼Œéœ€åœ¨tablesä¸­å»æ‰¾åˆ°å¯¹åº”çš„è¡¨æ ¼ï¼Œå¹¶å®Œæ•´ç†è§£åˆ†æåï¼Œå†³å®šæ˜¯å±•å¼€æˆå¤šæ¡æµ‹è¯•ç”¨ä¾‹è¿˜æ˜¯å°†ç›¸å…³å‚æ•°æå–åˆ°å¼•ç”¨ä½ç½®å³å¯ã€‚\n7.\
            \ è¾“å‡ºå¿…é¡»æ˜¯çº¯ jsonæ ¼å¼ï¼Œæ¯æ¡æµ‹è¯•ç”¨ä¾‹éƒ½åº”å®Œæ•´è‡ªè¶³ï¼Œä¾¿äºç›´æ¥ç”¨äºæµ‹è¯•ç³»ç»Ÿå½•å…¥æˆ–æ‰§è¡Œï¼›\n8. **ä¸å¾—çœç•¥**ä»»ä½•æ¡ä»¶ã€æ­¥éª¤æˆ–åˆ¤æ–­æ ‡å‡†ï¼Œå°¤å…¶æ˜¯é™„å½•ä¸­æåŠçš„è®¾å¤‡ã€ç¯å¢ƒå‚æ•°ã€å®¹å·®å€¼ã€å®‰è£…è¦æ±‚ç­‰ï¼›\n\
            9. æµ‹è¯•ç¼–å·ã€æ¡æ¬¾ç¼–å·è¯·ä¿æŒåŸæ ·ï¼›å¦‚æ–°å¢æµ‹è¯•ç”¨ä¾‹ï¼Œç¼–å·å¯åœ¨åŸåŸºç¡€ä¸Šæ‰©å±•ï¼›\n10. æ‰€æœ‰å­—æ®µå†…å®¹éƒ½åº”è¡¥å……ä¸ºå…·ä½“ã€å¯æ“ä½œã€è¯¦ç»†ã€æ— æ­§ä¹‰çš„æè¿°ï¼›\n\
            11. æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆç²’åº¦ä¸å¿…è¿‡ç»†ï¼Œä¾‹å¦‚æµ‹è¯•è½¦è¾†éœ€è¦å·¦å³ä¸¤ä¾§å‡åšç¢°æ’å®éªŒç­‰æƒ…å†µï¼Œç›´æ¥åœ¨æ­¥éª¤ä¸­å†™æ˜å³å¯ï¼Œæ— éœ€æ¯ä¸€ä¾§éƒ½ç”Ÿæˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹\n\n------\n\
            \n# ç»å¯¹ç¦ä»¤ï¼ˆè¿åå°†å¯¼è‡´ä¸¥é‡é”™è¯¯ï¼‰\n\n1. ç¦æ­¢å‡ºç°ã€ŒåŒä¸Šã€ã€ŒåŒT17-1åˆ¤å®šæ ‡å‡†ã€ ã€Œç¬¦åˆT17-1å…¨éƒ¨åŠŸèƒ½è¦æ±‚ç­‰æè¿°ã€ï¼Œå³æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸ºç‹¬ç«‹é¡¹\n\
            2. ç¦æ­¢å‚æ•°ç®€åŒ–ï¼šæ‰€æœ‰æŠ€æœ¯å‚æ•°å¿…é¡»å®Œæ•´å‘ˆç°\n3. ç¦æ­¢æ­¥éª¤åˆå¹¶ï¼šæ“ä½œæµç¨‹å¿…é¡»åˆ†è§£ä¸ºåŸå­çº§å¯æ‰§è¡Œæ­¥éª¤\n4. ç¦æ­¢æ£€æµ‹é¡¹åˆå¹¶ï¼šæ¯ä¸ªå¯ç‹¬ç«‹éªŒè¯çš„æŠ€æœ¯æŒ‡æ ‡å¿…é¡»å•ç‹¬åˆ—å‡º\n\
            5. ç¦æ­¢ä»»ä½•å½¢å¼çš„è¾“å‡ºçœç•¥ï¼šåŒ…æ‹¬ä½†ä¸é™äº\"éƒ¨åˆ†ç¤ºä¾‹\"ã€\"ç±»ä¼¼å¤„ç†\"ã€\"å…¶ä»–æµ‹è¯•ç”¨ä¾‹åŒç†\"ç­‰è¡¨è¿°ï¼Œå¿…é¡»å®Œæ•´å‘ˆç°æ¯æ¡æµ‹è¯•ç”¨ä¾‹\n\
            6. ç¦æ­¢ä»»ä½•æ— å…³è¾“å‡ºï¼ˆä»…è¾“å‡ºç»“æœè¡¨æ ¼ï¼‰\n7. ç¦æ­¢å¯¹æ— å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹æˆ–æœ‰å¼•ç”¨ä½†è¯¥å¼•ç”¨æ— æ³•è§£æï¼ˆå…¶å®ƒæ–‡ä»¶æˆ–å…¶å®ƒç« èŠ‚æ¡æ¬¾ï¼‰è¾“å…¥é‡å¤è¿›è¡Œè¾“å‡ºï¼ˆï¼ˆæ­¤æ¡ä»…é’ˆå¯¹test_casesï¼Œè‹¥åœ¨å¯¹æŸä¸€æ¡test_caseè¿›è¡Œå±•å¼€æ—¶äº§ç”Ÿäº†å­˜åœ¨ä¸å¯è¾¾çš„å¼•ç”¨æ—¶ï¼Œæ­£å¸¸ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼‰ï¼‰\n\
            6. ä¸¥ç¦è¾“å‡º ```jsonã€```ã€#ã€// ç­‰é JSON æ ‡å‡†è¯­æ³•å…ƒç´ ï¼Œè¾“å‡ºå¿…é¡»ä» [ å­—ç¬¦å¼€å§‹ï¼Œä»¥ ] å­—ç¬¦ç»“æŸã€‚å½“æ— éœ€å±•å¼€ä»»ä½•å†…å®¹æ—¶ï¼Œç¦æ­¢è¾“å‡º[]ä»¥å¤–çš„ä»»ä½•å†…å®¹\n\
            \n\n# ç¤ºä¾‹ï¼ˆfewshotï¼ŒåŠ¡å¿…ä¸¥æ ¼æ¨¡ä»¿ï¼‰\n\n## ç¤ºä¾‹ä¸€\n\n### è¾“å…¥\n\n// test_casesç¤ºä¾‹1\n\n{\n\
            \n\"å®éªŒç¼–å·\": \"T4-16\",\n\n\"å®éªŒç›®çš„\": \"éªŒè¯åœ¨é™„å½•Bè¯•éªŒä¸‹AECSè‡ªåŠ¨è§¦å‘\",\n\n\"å®éªŒæ¡ä»¶\"\
            : \"æŒ‰ç…§é™„å½•Bè®¾ç½®è¯•éªŒç¯å¢ƒ\",\n\n\"å…·ä½“æ­¥éª¤\": \"æ‰§è¡Œé™„å½•Bè¯•éªŒï¼Œè§‚å¯ŸAECSè§¦å‘çŠ¶æ€å’ŒMSD\",\n\n\"æ£€æµ‹é¡¹\"\
            : \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\",\n\n\"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\"\
            : \"4.4.1\",\n\n\"ref\": \"é™„å½•B\"\n\n\"parent\":\"\",\n\n},\n\n\n\n// appendixä¸­é™„å½•Bçš„éƒ¨åˆ†å†…å®¹ï¼Œä»…ä½œç¤ºä¾‹\n\
            \n  {\n\nâ€‹    \"chapter_id\": \"é™„å½• B\",\n\nâ€‹    \"chapter_title\": \"\
            è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•\",\n\nâ€‹    \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•\",\n\nâ€‹    \"raw_text\"\
            : \"\",\n\nâ€‹    \"children\": [\n\nâ€‹          {\n\nâ€‹        \"chapter_id\"\
            : \"B.2\",\n\nâ€‹        \"chapter_title\": \"è¯•éªŒé¡¹ç›®\",\n\nâ€‹        \"full_path\"\
            : \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®\",\n\nâ€‹        \"raw_text\": \"\",\n\nâ€‹    \
            \    \"children\": [\n\nâ€‹          {\n\nâ€‹            \"chapter_id\": \"\
            B.2.1\",\n\nâ€‹            \"chapter_title\": \"æ­£é¢ç¢°æ’\",\n\nâ€‹           \
            \ \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1 æ­£é¢ç¢°æ’\",\n\nâ€‹          \
            \  \"raw_text\": \"\",\n\nâ€‹            \"children\": [\n\nâ€‹          \
            \    {\n\nâ€‹                \"chapter_id\": \"B.2.1.1\",\n\nâ€‹         \
            \       \"chapter_title\": \"æ»‘å°æ­£é¢ç¢°æ’è¯•éªŒ\",\n\nâ€‹                \"full_path\"\
            : \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1 æ­£é¢ç¢°æ’/B.2.1.1 æ»‘å°æ­£é¢ç¢°æ’è¯•éªŒ\",\n\nâ€‹        \
            \        \"raw_text\": \"å°†ç™½è½¦èº«å›ºå®šåœ¨ç¢°æ’è¯•éªŒæ»‘å°ä¸Šï¼Œå®‰è£…æ–¹å‘æ¨¡æ‹Ÿæ­£é¢ç¢°æ’ã€‚æ»‘å°æŒ‰ç…§å›¾B.1çš„åŠ é€Ÿåº¦é€šé“èŒƒå›´å’Œè¡¨B.1çš„å‚æ•°è¿›è¡ŒåŠ é€Ÿæˆ–å‡é€Ÿï¼Œé€Ÿåº¦å˜åŒ–é‡â–³Våº”ä¸º26.6\
            \ km/hÂ±1 km/hã€‚\\n\\næ ¹æ®åˆ¶é€ å•†è¦æ±‚ï¼Œä¹Ÿå¯ä½¿ç”¨åˆ¶é€ å•†ç”³æŠ¥çš„æ°”å›Šå¿…çˆ†é™åŠ é€Ÿåº¦æ³¢å½¢è¿›è¡Œè¯•éªŒï¼Œå³æŒ‰ç…§æ°”å›Šèµ·çˆ†æœ€ä½é€Ÿåº¦è¿›è¡Œæ­£é¢åˆšæ€§å£éšœç¢°æ’è¯•éªŒæ—¶ï¼Œåœ¨è½¦èº«éå˜å½¢åŒºåŸŸé‡‡é›†çš„åŠ é€Ÿåº¦-æ—¶é—´æ›²çº¿ï¼Œé‡‡ç”¨CFC\
            \ 60æˆ–100 Hzä½é€šè¿›è¡Œæ»¤æ³¢ã€‚å®é™…è¯•éªŒç»“æœæ³¢å½¢çš„ç§¯åˆ†é€Ÿåº¦å˜åŒ–é‡â–³Vs(t)åº”åœ¨ä»»æ„æ—¶åˆ»ï¼Œä¸è¶…è¿‡ç”³æŠ¥æ³¢å½¢çš„ç§¯åˆ†é€Ÿåº¦å˜åŒ–é‡â–³Vt(t)Â±1\
            \ km/hçš„èŒƒå›´ï¼Œå³åº”æ»¡è¶³â–³Vt(t)-1â‰¤â–³Vs(t)â‰¤â–³Vt(t)+1ï¼Œå•ä½km/hã€‚\",\n\nâ€‹               \
            \ \"children\": []\n\nâ€‹              },\nâ€‹              {\n\nâ€‹       \
            \         \"chapter_id\": \"B.2.1.2\",\n\nâ€‹                \"chapter_title\"\
            : \"å®è½¦æ­£é¢ç¢°æ’è¯•éªŒ\",\n\nâ€‹                \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2\
            \ è¯•éªŒé¡¹ç›®/B.2.1 æ­£é¢ç¢°æ’/B.2.1.2 å®è½¦æ­£é¢ç¢°æ’è¯•éªŒ\",\n\nâ€‹                \"raw_text\"\
            : \"æŒ‰GB 11551çš„è§„å®šè°ƒæ•´è½¦è¾†çŠ¶æ€ä½†ä¸å®‰è£…ç¢°æ’å‡äººï¼Œåœ¨ç¢°æ’é€Ÿåº¦ä¸é«˜äº30 km/hçš„æ¡ä»¶ä¸‹ï¼Œè¿›è¡Œæ­£é¢ç¢°æ’è¯•éªŒã€‚\",\n\nâ€‹ \
            \               \"children\": []\n\nâ€‹              },\n\nâ€‹          },\n\
            \nâ€‹          ...\n\nâ€‹      ],\n\n  },\n\n### æ€è€ƒè¿‡ç¨‹\n\n1. æ­¤æµ‹è¯•ç”¨ä¾‹å­˜åœ¨å¼•ç”¨ï¼Œå¹¶ç¡®å®šéœ€è¦å±•å¼€çš„æ˜¯è¿™å¥è¯ï¼šâ€œæ‰§è¡Œé™„å½•Bè¯•éªŒâ€ï¼Œå°†é™„å½•Bä¸­çš„å†…å®¹è¿›è¡Œå±•å¼€\n\
            2. åˆæ­¥åˆ¤æ–­å¯è¾¾ï¼ˆé™„å½•Bå·²æä¾›ï¼‰ï¼Œç»§ç»­æ‰§è¡Œæ­¥éª¤3\n3. è·³è½¬åˆ°é™„å½•Bï¼Œå¯¹äºæ¯ä¸ªæ ‡é¢˜ä¸‹çš„æ­£æ–‡ï¼Œä»¥æ®µè½ä¸ºå•ä½è¿›è¡Œåˆ†æã€‚å¯¹äºæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒï¼Œæœ‰ä¸¤ä¸ªæ®µè½ï¼Œåˆ†åˆ«å¯¹åº”ä¸€ä¸ªä¸€ç§æ–¹æ¡ˆï¼Œæ ¹æ®è¦æ±‚ï¼Œéœ€è¦åˆ†åˆ«ä¸ºæ¯ç§æ–¹æ¡ˆç”Ÿæˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼›å¯¹äºæ­£é¢ç¢°æ’å®è½¦è¯•éªŒï¼Œå¯æå–ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ­¤å¤„è™½ç„¶åˆå¼•å…¥äº†å¯¹äºå¤–éƒ¨ä¸å¯è¾¾æ–‡ä»¶çš„å¼•ç”¨ï¼Œä½†æ˜¯ä»éœ€è¦ç”Ÿæˆæ­¤æµ‹è¯•ç”¨ä¾‹ã€‚è‹¥å¼•å…¥çš„æ˜¯å¯¹äºå¯è¾¾å†…å®¹çš„å¼•ç”¨ï¼Œåˆ™éœ€è¦å®Œå–„refå­—æ®µï¼‰ã€‚\n\
            4. å¯¹äºé™„å½•Bçš„å¼•ç”¨å·²ç»å±•å¼€ï¼Œåˆ™å°†å…¶ä»refå­—æ®µç§»é™¤ï¼›å…¶ä¸­ç”Ÿæˆçš„T4-16-1Cå¼•å…¥äº†å¯¹GB 11551çš„å¼•ç”¨ï¼Œå°†å…¶æ·»åŠ è‡³refï¼›\n5.\
            \ å¡«å……parentï¼Œç”Ÿæˆçš„ä¸‰æ¡æµ‹è¯•ç”¨ä¾‹çš„parentå‡ä¸ºT4-16\n6. å°†æ­¥éª¤3ç”Ÿæˆçš„3ä¸ªæµ‹è¯•ç”¨ä¾‹è¾“å‡ºä¸ºjsonæ ¼å¼\n\n### è¾“å‡º\n\
            \n// ä¸Šè¿°è¾“å…¥ä¸­ä»…åŒ…å«å¦‚ä¸‹å†…å®¹ï¼Œä½†å®é™…è¾“å…¥è¯·ä¾æ®å®é™…è¾“å‡ºï¼\n\n[\n\n  {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-16-1A\"\
            ,\n\nâ€‹    \"å®éªŒç›®çš„\": \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒï¼‰\",\n\nâ€‹    \"å®éªŒæ¡ä»¶\": \"AECSç›¸å…³éƒ¨ä»¶ï¼ˆæ§åˆ¶æ¨¡å—ã€é€šä¿¡æ¨¡å—ã€ç”µæºã€è¿æ¥å™¨ã€å¤©çº¿ã€GNSSæ¥æ”¶æœºã€ç¢°æ’æ„ŸçŸ¥å…ƒä»¶ï¼‰æŒ‰ç…§åŸè½¦çŠ¶æ€å®‰è£…åœ¨ç™½è½¦èº«ä¸Šï¼›æ»‘å°å®‰è£…æ–¹å‘æ¨¡æ‹Ÿæ­£é¢ç¢°æ’ï¼›æ»‘å°åŠ é€Ÿåº¦æŒ‰ç…§å›¾B.1é€šé“èŒƒå›´å’Œè¡¨B.1å‚æ•°è®¾ç½®ï¼Œé€Ÿåº¦å˜åŒ–é‡â–³Vä¸º26.6\
            \ km/hÂ±1 km/h\",\n\nâ€‹    \"å…·ä½“æ­¥éª¤\": \"1. å°†ç™½è½¦èº«å›ºå®šåœ¨ç¢°æ’è¯•éªŒæ»‘å°ä¸Šï¼› 2. æ‰§è¡Œæ»‘å°æ­£é¢ç¢°æ’è¯•éªŒï¼›\
            \ 3. è§‚å¯ŸAECSè§¦å‘çŠ¶æ€ï¼› 4. æ•è·å¹¶åˆ†æå‘é€çš„MSDæ•°æ®åŒ…\",\n\nâ€‹    \"æ£€æµ‹é¡¹\": \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\"\
            ,\n\nâ€‹    \"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n\nâ€‹    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\"\
            : \"4.4.1ã€B.2.1.1\"\n\nâ€‹    \"ref\": \"\",\n\nâ€‹    \"parent\":\"T4-16\"\
            , \n\n  },\n\n  {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-16-1B\",\n\nâ€‹    \"å®éªŒç›®çš„\": \"\
            éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒ-æ°”å›Šå¿…çˆ†é™åŠ é€Ÿåº¦æ³¢å½¢æ–¹æ¡ˆï¼‰\",\n\nâ€‹    \"å®éªŒæ¡ä»¶\": \"æŒ‰ç…§æ°”å›Šèµ·çˆ†æœ€ä½é€Ÿåº¦è¿›è¡Œæ­£é¢åˆšæ€§å£éšœç¢°æ’è¯•éªŒæ—¶ï¼Œåœ¨è½¦èº«éå˜å½¢åŒºåŸŸé‡‡é›†çš„åŠ é€Ÿåº¦-æ—¶é—´æ›²çº¿ï¼Œé‡‡ç”¨CFC\
            \ 60æˆ–100 Hz ä½é€šè¿›è¡Œæ»¤æ³¢\",\n\nâ€‹    \"å…·ä½“æ­¥éª¤\": \"1. æŒ‰ç”³æŠ¥æ³¢å½¢æ‰§è¡Œç¢°æ’\\n2. é‡‡é›†éå˜å½¢åŒºåŠ é€Ÿåº¦æ›²çº¿\\\
            n3. è®¡ç®—â–³Vs(t)\",\n\nâ€‹    \"æ£€æµ‹é¡¹\": \"1. é€Ÿåº¦å˜åŒ–é‡â–³Vs(t)\\n2. è§¦å‘ç±»å‹\",\n\nâ€‹  \
            \  \"åˆ¤å®šæ ‡å‡†\": \"1. Vt(t)-1â‰¤â–³Vs(t)â‰¤â–³Vt(t)+1km/h\\n2. è‡ªåŠ¨è§¦å‘\",\n\nâ€‹    \"\
            å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1ã€B.2.1.1\"\n\nâ€‹    \"ref\": \"\",\n\nâ€‹    \"parent\"\
            :\"T4-16\", \n\n  },\n  {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-16-1C\",\n\nâ€‹    \"å®éªŒç›®çš„\"\
            : \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’å®è½¦è¯•éªŒ)\",\n\nâ€‹    \"å®éªŒæ¡ä»¶\": \"è¯•éªŒè½¦è¾†èƒ½åæ˜ è¯¥ç³»åˆ—äº§å“ç‰¹å¾ï¼Œè£…å¤‡æ­£å¸¸å®‰è£…å¹¶å¤„äºå¯è¿è¡ŒçŠ¶æ€ï¼›æŒ‰GB\
            \ 11551è§„å®šè°ƒæ•´è½¦è¾†çŠ¶æ€ä½†ä¸å®‰è£…ç¢°æ’å‡äººï¼›ç¢°æ’é€Ÿåº¦ä¸é«˜äº30 km/h\",\n\nâ€‹    \"å…·ä½“æ­¥éª¤\": \"1. å‡†å¤‡è½¦è¾†ï¼›\
            \ 2. æ‰§è¡Œå®è½¦æ­£é¢ç¢°æ’è¯•éªŒï¼› 3. è§‚å¯ŸAECSè§¦å‘çŠ¶æ€ï¼› 4. æ•è·å¹¶åˆ†æå‘é€çš„MSDæ•°æ®åŒ…\",\n\nâ€‹    \"æ£€æµ‹é¡¹\":\
            \ \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\",\n\nâ€‹    \"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n\n\
            â€‹    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1ã€B.2.1.2\"\n\nâ€‹    \"ref\": \"GB 11551\",\n\n\
            â€‹    \"parent\":\"T4-16\", \n\n  }\n]\n\n## ç¤ºä¾‹äºŒ\n\n   {\n\nâ€‹    \"å®éªŒç¼–å·\"\
            : \"T4-2\",\n\nâ€‹    ......\n\nâ€‹    \"ref\": \"\",\n\n  },\n\n {\n\nâ€‹ \
            \   \"å®éªŒç¼–å·\": \"T4-12\",\n\nâ€‹    ......\n\nâ€‹    \"ref\": \"GB/T 43187\"\
            \n\n  },\n\n {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-18\",\n\nâ€‹    ......\n\nâ€‹    \"\
            ref\": \"é™„å½•C, GB 11551, GB 20071\"\n\n  },\n\n### è¯´æ˜\n\næ˜ç¡®ï¼šé™„å½•Cæ˜¯å¯è¾¾çš„å¼•ç”¨ï¼Œå…¶ä½™å‡ä¸å¯è¾¾\n\
            \nè¯´æ˜ï¼š\n\n- T4-2æ— å¼•ç”¨ï¼Œæ— éœ€å¤„ç†ä¸”ä¸è¾“å‡ºä¸ºjson\n\n- T4-12å­˜åœ¨å¼•ç”¨ï¼Œä¸”æ‰€æœ‰å¼•ç”¨å‡ä¸å¯è¾¾ï¼Œæ— éœ€å¤„ç†ä¸”ä¸è¾“å‡ºä¸ºjson\n\
            \n- T4-18å­˜åœ¨å¼•ç”¨ï¼Œå…¶ä¸­é™„å½•Cæ˜¯å¯è¾¾å¼•ç”¨ï¼Œéœ€è¦å°†T18ä¸­å¯¹äºé™„å½•Cçš„å¼•ç”¨éƒ¨åˆ†å±•å¼€ï¼Œå¹¶å°†æœ€ç»ˆç»“æœè¾“å‡ºä¸ºjsonã€‚å¦‚æœåœ¨å±•å¼€è¿‡ç¨‹ä¸­ï¼Œåˆå‡ºç°äº†ä¸å¯è¾¾çš„å¼•ç”¨ï¼Œæ­£å¸¸è¾“å‡ºï¼\n\
            \n\n# é”™è¯¯è¾“å‡ºç¤ºä¾‹\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªé”™è¯¯è¾“å‡ºç¤ºä¾‹\n\n{\n\n\"å®éªŒç¼–å·\": \"...\",\n\n\"å®éªŒç›®çš„\": \"\
            ...\",\n\n\"å®éªŒæ¡ä»¶\": \"...\",\n\n\"å…·ä½“æ­¥éª¤\": \"...\",\n\n\"æ£€æµ‹é¡¹\": \"...\"\
            ,\n\n\"åˆ¤å®šæ ‡å‡†\": \"æ»¡è¶³GB 34660è¦æ±‚ï¼Œä¸”ç¬¦åˆé™„å½•Få¤±æ•ˆåˆ¤å®šå‡†åˆ™ï¼š\\n- AECSæˆåŠŸå»ºç«‹è¿æ¥\\n- è¯­éŸ³é€šè¯æ¸…æ™°å¯æ‡‚ï¼ˆè½¦è¾†ç«¯å’Œå¹³å°ç«¯ï¼‰\\\
            n- MSDç¬¦åˆé™„å½•Aè¦æ±‚\\n- è¯•éªŒä¸­æ— AECSæ•…éšœæŒ‡ç¤ºæˆ–å­˜å‚¨æ•…éšœç \",\n\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.8, F.1\"\
            ,\n\n\"ref\": \"GB 34660\"\n\n\"parent\":\"...\", \n\n}\n\n## é”™è¯¯åŸå› \n\n\
            1. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¼•å…¥äº†å¯¹äºé™„å½•Açš„å¼•ç”¨ï¼Œå³â€œMSDç¬¦åˆé™„å½•Aè¦æ±‚â€ï¼Œè¦å°†å…¶å¡«å……è‡³refå­—æ®µï¼ï¼ˆå›¾è¡¨çš„å¼•ç”¨æ— éœ€æ·»åŠ è‡³refå­—æ®µï¼Œä½†éœ€æ­£å¸¸å¤„ç†ï¼‰\n\
            \n2. å·²ç»å±•å¼€çš„å†…å®¹ï¼Œé™„å½•Fï¼Œåˆ™æ— éœ€åœ¨æè¿°ä¸­ä¿ç•™ï¼ˆæ»¡è¶³GB 34660è¦æ±‚ï¼Œä¸”ç¬¦åˆé™„å½•Få¤±æ•ˆåˆ¤å®šå‡†åˆ™ï¼‰ï¼Œæœªå±•å¼€çš„æ‰éœ€è¦ä¿ç•™\n\n# é”™è¯¯ç¤ºä¾‹äºŒ\n\
            ## è¾“å…¥\n{\n'å®éªŒç¼–å·': 'T4-19', \n'å®éªŒç›®çš„': 'éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚', \n'å®éªŒæ¡ä»¶':\
            \ 'æ‰‹åŠ¨è§¦å‘AECSæˆ–æ‰§è¡ŒGB 11551å’ŒGB 20071è¯•éªŒè‡ªåŠ¨è§¦å‘å', \n'å…·ä½“æ­¥éª¤': '1. æ‰§è¡Œè§¦å‘ï¼ˆæ‰‹åŠ¨æˆ–è‡ªåŠ¨ï¼‰ï¼›\\\
            n2. ä½¿ç”¨è¡¨C.1çš„ä¸€ç§è¯•éªŒæ–¹æ³•ï¼ˆæ— çº¿ç©ºå£ä¼ è¾“ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æ— çº¿ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æœ‰çº¿ï¼‰éªŒè¯ç³»ç»ŸåŠŸèƒ½æ€§ï¼›\\n3. æ£€æŸ¥MSDç¬¦åˆé™„å½•Aè¦æ±‚ï¼›\\\
            n4. å¦‚æœä½¿ç”¨æ–¹æ³•3ï¼Œæ£€æŸ¥ç§»åŠ¨ç½‘ç»œå¤©çº¿è¦æ±‚', \n'æ£€æµ‹é¡¹': 'MSDç¬¦åˆæ€§ã€å¤©çº¿è¦æ±‚ï¼ˆå¦‚é€‚ç”¨ï¼‰', \n'åˆ¤å®šæ ‡å‡†': 'ç¬¦åˆä»¥ä¸‹æ‰€æœ‰è¦æ±‚ï¼š\\\
            n- MSDç¬¦åˆé™„å½•Aè¦æ±‚\\n- å¦‚æœä½¿ç”¨è¡¨C.1åºå·3æ–¹æ³•ï¼Œç¢°æ’åç§»åŠ¨ç½‘ç»œå¤©çº¿ç”µå‹é©»æ³¢æ¯”æ»¡è¶³åˆ¶é€ å•†å‚æ•°ï¼Œä¸”å¤©çº¿é¦ˆç”µçº¿è·¯æ— æ–­å¼€æˆ–çŸ­è·¯',\
            \ \n'å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·': '4.5.2, C.2.1, C.2.2, C.2.3, C.2.4, C.2.5', \n'ref': 'é™„å½•A',\
            \ \n'parent': ''\n}\n## é”™è¯¯è¾“å‡º\n{\n\"å®éªŒç¼–å·\": \"T4-19-1\",\n\"å®éªŒç›®çš„\": \"\
            éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚ï¼ˆä½¿ç”¨å…¬å…±ç§»åŠ¨é€šä¿¡ç½‘ç»œæ— çº¿ç©ºå£ä¼ è¾“ï¼‰\",\n......\n\"ref\": \"\"\
            ,\n\"parent\": \"T4-19\"\n},\n{\n\"å®éªŒç¼–å·\": \"T4-19-2\",\n\"å®éªŒç›®çš„\": \"\
            éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚ï¼ˆä½¿ç”¨ç½‘ç»œæ¨¡æ‹Ÿå™¨æ— çº¿ç©ºå£ä¼ è¾“ï¼‰\",\n......\n\"ref\": \"\",\n\"\
            parent\": \"T4-19\"\n},\n{\n\"å®éªŒç¼–å·\": \"T4-19-3\",\n\"å®éªŒç›®çš„\": \"éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚ï¼ˆä½¿ç”¨ç½‘ç»œæ¨¡æ‹Ÿå™¨æœ‰çº¿è¿æ¥ï¼‰\"\
            ,\n......\n\"ref\": \"\",\n\"parent\": \"T4-19\"\n}\n## é”™è¯¯åŸå› åˆ†æ\nåº”è¯¥å±•å¼€çš„æ˜¯å¯¹äºé™„å½•Açš„å¼•ç”¨ï¼Œå…¶ä½™éƒ¨åˆ†ä¿æŒä¸å˜å³å¯ï¼›ä»…éœ€å°†è¯¥è¾“å…¥æµ‹è¯•ç”¨ä¾‹ä¸­çš„â€œæ£€æŸ¥MSDç¬¦åˆé™„å½•Aè¦æ±‚â€è¿›è¡Œå±•å¼€ï¼Œè€Œä¸æ˜¯å°†â€œ\
            \ ä½¿ç”¨è¡¨C.1çš„ä¸€ç§è¯•éªŒæ–¹æ³•ï¼ˆæ— çº¿ç©ºå£ä¼ è¾“ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æ— çº¿ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æœ‰çº¿ï¼‰éªŒè¯ç³»ç»ŸåŠŸèƒ½æ€§â€å±•å¼€ä¸ºä¸‰ä¸ªæä¸ºç›¸ä¼¼çš„æµ‹è¯•ç”¨ä¾‹"
        - id: b84866a9-31b8-42f4-b068-8cd28f1e3cc2
          role: user
          text: 'test_cases:{{#1753070274269.test_cases#}}

            appendix_text:{{#1752737813275.appendix#}}

            tables:{{#1752737813275.tables#}}'
        selected: false
        structured_output_enabled: false
        title: LLM 2
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1753071359036'
      parentId: '1752730418049'
      position:
        x: 812
        y: 73
      positionAbsolute:
        x: 1438.3360859321056
        y: 459.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import json\nimport ast\nimport re\nfrom typing import Dict, List,\
          \ Any\n\ndef parse_input(src: str) -> List[Dict[str, Any]]:\n    \"\"\"\
          é¢„å¤„ç†å¹¶è§£æè¾“å…¥å­—ç¬¦ä¸²ä¸ºåˆ—è¡¨å­—å…¸ç»“æ„\"\"\"\n    try:\n        # å»é™¤ LLM æ€ç»´é“¾æ ‡è®°\n        try:\
          \ \n            src = re.sub(r'<think>.*?</think>', '', src, flags=re.DOTALL).strip()\n\
          \        except:\n            pass\n\n        try:\n            data = json.loads(src)\n\
          \        except json.JSONDecodeError:\n            try:\n              \
          \  if src.startswith('\\ufeff'):\n                    src = src[1:]\n  \
          \              data = ast.literal_eval(src)\n            except (SyntaxError,\
          \ ValueError):\n                try:\n                    processed = src.replace('\\\
          \\\"', '\"').replace('\\\\n', '\\n')\n                    data = json.loads(processed)\n\
          \                except Exception as e:\n                    raise ValueError(f\"\
          æ— æ³•è§£æï¼š{str(e)}\")\n\n        # ä¿è¯ä¸º list\n        if isinstance(data, dict):\n\
          \            return [data]\n        elif isinstance(data, list):\n     \
          \       return data\n        else:\n            return []\n    except Exception\
          \ as e:\n        # raise ValueError(f\"é¢„å¤„ç†å¤±è´¥: {str(e)}\")\n        return\
          \ []\n\ndef merge_expanded_data(data1: List[Dict], data2: List[Dict]) ->\
          \ List[Dict]:\n    \"\"\"å°† data2 ä¸­ä»¥ Tn æˆ– Tn- å‰ç¼€çš„é¡¹æ›¿æ¢æ‰ data1 ä¸­ Tn çš„ä¸»é¡¹\"\"\"\
          \n    # æ„å»ºå‰ç¼€æ˜ å°„ï¼šT20 -> [T20-1, T20-2] æˆ– [T20]\n    replacement_map = {}\n\
          \n    for row in data2:\n        if not isinstance(row, dict):\n       \
          \     continue\n        test_id = row.get(\"å®éªŒç¼–å·\", \"\")\n        match\
          \ = re.match(r\"^(T\\d+)\", test_id)\n        if match:\n            base_id\
          \ = match.group(1)\n            replacement_map.setdefault(base_id, []).append(row)\n\
          \n    # æ„å»ºåˆå¹¶ç»“æœ\n    merged = []\n    for row in data1:\n        test_id\
          \ = row.get(\"å®éªŒç¼–å·\", \"\")\n        if test_id in replacement_map:\n  \
          \          merged.extend(replacement_map[test_id])\n        else:\n    \
          \        merged.append(row)\n\n    return merged\n\ndef split_by_ref_field(data:\
          \ List[Dict]) -> Dict[str, List[Dict]]:\n    \"\"\"\n    æ ¹æ® ref å­—æ®µæ˜¯å¦ä¸ºç©ºæ‹†åˆ†æ•°æ®\n\
          \    è¿”å›: {\n        \"with_ref\": [å«æœ‰refå­—æ®µçš„è®°å½•],\n        \"without_ref\"\
          : [refä¸ºç©ºçš„è®°å½•]\n    }\n    \"\"\"\n    with_ref = []\n    without_ref = []\n\
          \    \n    for item in data:\n        if not isinstance(item, dict):\n \
          \           continue\n            \n        # æ£€æŸ¥refå­—æ®µæ˜¯å¦å­˜åœ¨ä¸”éç©º\n        if\
          \ item.get(\"ref\"):\n            with_ref.append(item)\n        else:\n\
          \            without_ref.append(item)\n    \n    return {\n        \"with_ref\"\
          : with_ref,\n        \"without_ref\": without_ref\n    }\n\ndef to_markdown_table(data:\
          \ List[Dict]) -> str:\n    \"\"\"å°†ç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸º Markdown è¡¨æ ¼\"\"\"\n    headers\
          \ = [\"å®éªŒç¼–å·\", \"å®éªŒç›®çš„\", \"å®éªŒæ¡ä»¶\", \"å…·ä½“æ­¥éª¤\", \"æ£€æµ‹é¡¹\", \"åˆ¤å®šæ ‡å‡†\", \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\"\
          ]\n    md_lines = [\n        \"| \" + \" | \".join(headers) + \" |\",\n\
          \        \"| \" + \" | \".join([\"-\" * len(h) for h in headers]) + \" |\"\
          \n    ]\n\n    for row in data:\n        values = []\n        for h in headers:\n\
          \            val = row.get(h, \"\")\n            if not isinstance(val,\
          \ str):\n                val = str(val)\n            val = val.replace(\"\
          \\n\", \"<br>\")\n            values.append(val)\n        md_lines.append(\"\
          | \" + \" | \".join(values) + \" |\")\n\n    return \"\\n\".join(md_lines)\n\
          \ndef merge_data(data1: List[Dict], data2: List[Dict]) -> List[Dict]:\n\
          \    \"\"\"\n    æ ¹æ®parentå­—æ®µå°†data2ä¸­çš„æ•°æ®æ›¿æ¢data1ä¸­å¯¹åº”çš„å†…å®¹\n    è§„åˆ™ï¼š\n    1. å¦‚æœdata2ä¸­çš„é¡¹æœ‰parentå­—æ®µï¼Œåˆ™æ›¿æ¢data1ä¸­å®éªŒç¼–å·åŒ¹é…parentçš„é¡¹\n\
          \    2. å¦‚æœdata2ä¸­çš„é¡¹æ²¡æœ‰parentå­—æ®µï¼Œåˆ™ç›´æ¥è¿½åŠ åˆ°ç»“æœä¸­\n    3. data1ä¸­æ²¡æœ‰è¢«æ›¿æ¢çš„é¡¹ä¿ç•™åœ¨ç»“æœä¸­\n   \
          \ \"\"\"\n    result = []\n    \n    # æ„å»ºparentæ˜ å°„ï¼šparent -> [å­é¡¹åˆ—è¡¨]\n   \
          \ parent_map = {}\n    for item in data2:\n        if not isinstance(item,\
          \ dict):\n            continue\n        parent = item.get(\"parent\")\n\
          \        if parent:\n            parent_map.setdefault(parent, []).append(item)\n\
          \    \n    # å¤„ç†data1ä¸­çš„é¡¹\n    for item in data1:\n        if not isinstance(item,\
          \ dict):\n            continue\n        test_id = item.get(\"å®éªŒç¼–å·\", \"\"\
          )\n        \n        # å¦‚æœdata2ä¸­æœ‰è¿™ä¸ªtest_idçš„æ‰©å±•é¡¹ï¼Œåˆ™æ›¿æ¢\n        if test_id in\
          \ parent_map:\n            result.extend(parent_map[test_id])\n        else:\n\
          \            result.append(item)\n    \n    # æ·»åŠ data2ä¸­æ²¡æœ‰parentçš„é¡¹\n    for\
          \ item in data2:\n        if not isinstance(item, dict):\n            continue\n\
          \        if not item.get(\"parent\"):\n            result.append(item)\n\
          \    \n    return result\n\n\ndef main(src1: str, src2: str, finished: str)\
          \ -> Dict:\n    try:\n        data1 = parse_input(src1)\n        data2 =\
          \ parse_input(src2)\n        data3 = json.loads(finished)\n\n        # merged_data\
          \ = merge_expanded_data(data1, data2)\n        merged_data = merge_data(data1,\
          \ data2) + data3      \n\n        # æ ¹æ®refå­—æ®µæ‹†åˆ†æ•°æ®\n        split_data = split_by_ref_field(merged_data)\n\
          \n        # markdown_table = to_markdown_table(merged_data)\n\n        #\
          \ return {\n        #     \"markdown_table\": markdown_table\n        #\
          \ }\n        return {\n            \"result\":{            \n          \
          \  # \"markdown_table\": str(merged_data),\n            \"with_ref\": str(split_data[\"\
          with_ref\"]),\n            \"without_ref\": str(split_data[\"without_ref\"\
          ]\n            )}\n        }\n    except Exception as e:\n        return\
          \ {\n            \"error\": str(e)\n        }\n"
        code_language: python3
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1752730418049'
        outputs:
          result:
            children: null
            type: object
        selected: false
        title: ä»£ç æ‰§è¡Œ 3
        type: code
        variables:
        - value_selector:
          - '1753070274269'
          - test_cases
          value_type: string
          variable: src1
        - value_selector:
          - '1753071359036'
          - text
          value_type: string
          variable: src2
        - value_selector:
          - '1753070274269'
          - finished
          value_type: string
          variable: finished
      height: 53
      id: '1753257336262'
      parentId: '1752730418049'
      position:
        x: 1420
        y: 91
      positionAbsolute:
        x: 2046.3360859321056
        y: 477.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "\n# import json\n# import ast\n# def main(data: list[str]) -> dict:\n\
          #     finished = []\n#     unfinished = []\n#     for item in data:\n# \
          \        finished.extend(ast.literal_eval(item['without_ref']))\n#     \
          \    unfinished.extend(ast.literal_eval(item['with_ref']))\n    \n#    \
          \ for item in unfinished:\n#         item['parent'] = \"\"\n#     for item\
          \ in finished:\n#         item['parent'] = \"\"\n\n#     return {\n#   \
          \      \"finished\":str(finished),\n#         \"unfinished\":str(unfinished),\n\
          #     }\nimport ast\nimport re\nfrom typing import Any, Dict, List\n\ndef\
          \ main(data: List[str]) -> Dict[str, str]:\n    finished: List[Dict[str,\
          \ Any]] = []\n    unfinished: List[Dict[str, Any]] = []\n\n    for item\
          \ in data:\n        # è¿‡æ»¤æ‰ None æˆ–ä¸æ˜¯ dict çš„å…ƒç´ \n        if not isinstance(item,\
          \ dict):\n            continue\n\n        try:\n            # å®‰å…¨åœ°æŠŠå­—ç¬¦ä¸²è½¬å›åˆ—è¡¨\n\
          \            finished_chunk = ast.literal_eval(item.get(\"without_ref\"\
          ) or \"[]\")\n            unfinished_chunk = ast.literal_eval(item.get(\"\
          with_ref\") or \"[]\")\n        except Exception:\n            # è§£æå¤±è´¥ç›´æ¥è·³è¿‡\n\
          \            continue\n\n        # æ‰©å±•åˆ—è¡¨ï¼ŒåŒæ—¶ä¿è¯å…ƒç´ éƒ½æ˜¯ dict\n        finished.extend([c\
          \ for c in finished_chunk if isinstance(c, dict)])\n        unfinished.extend([c\
          \ for c in unfinished_chunk if isinstance(c, dict)])\n\n    # æ–°å¢é€»è¾‘ï¼šå¤„ç†new_tempä¸­ä»¥\"\
          GB\"æˆ–\"å›¾\"å¼€å¤´çš„refé¡¹\n    remaining_temp = []\n    for item in unfinished:\n\
          \        if not isinstance(item, dict):\n            remaining_temp.append(item)\n\
          \            continue\n\n        ref_raw = str(item.get(\"ref\", \"\")).strip()\n\
          \        # åˆ¤æ–­æ˜¯å¦ä»…ç”±\"GB\"æˆ–\"å›¾\"å¼€å¤´çš„éƒ¨åˆ†ç»„æˆ\n        valid = True\n        valid\
          \ = True\n        for part in re.split(r'[,ï¼Œã€]', ref_raw):\n           \
          \ part = part.strip()\n            if part and not (part.startswith(\"GB\"\
          ) or part.startswith(\"GA\") or part.startswith(\"å›¾\")):\n             \
          \   valid = False\n                break\n\n        if valid:\n        \
          \    finished.append(item)\n        else:\n            remaining_temp.append(item)\n\
          \    \n    unfinished = remaining_temp\n\n    # ç»Ÿä¸€æŠŠ parent å­—æ®µç½®ç©ºï¼Œé˜²æ­¢åç»­å¼•ç”¨å‡ºé”™\n\
          \    for item in finished + unfinished:\n        item[\"parent\"] = \"\"\
          \n\n    return {\n        \"finished\": str(finished),\n        \"unfinished\"\
          : str(unfinished),\n    }"
        code_language: python3
        desc: ''
        outputs:
          finished:
            children: null
            type: string
          unfinished:
            children: null
            type: string
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 1000
        selected: false
        title: ä»£ç æ‰§è¡Œ 5
        type: code
        variables:
        - value_selector:
          - '1752730418049'
          - output
          value_type: array[object]
          variable: data
      height: 53
      id: '1753409007363'
      position:
        x: 2512
        y: 386.5
      positionAbsolute:
        x: 2512
        y: 386.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        break_conditions: []
        desc: ''
        error_handle_mode: terminated
        height: 373
        logical_operator: and
        loop_count: 1
        loop_variables:
        - id: 498663b8-ae21-4da5-b3c6-ab033247a4d4
          label: temp
          value:
          - '1753409007363'
          - unfinished
          value_type: variable
          var_type: string
        - id: 380bb322-b5df-459d-8e34-2333bb20853a
          label: finished
          value:
          - '1753409007363'
          - finished
          value_type: variable
          var_type: string
        selected: false
        start_node_id: 1753409012058start
        title: å¾ªç¯
        type: loop
        width: 2636
      height: 373
      id: '1753409012058'
      position:
        x: 2816
        y: 386.5
      positionAbsolute:
        x: 2816
        y: 386.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 2636
      zIndex: 1
    - data:
        desc: ''
        isInLoop: true
        selected: false
        title: ''
        type: loop-start
      draggable: false
      height: 48
      id: 1753409012058start
      parentId: '1753409012058'
      position:
        x: 60
        y: 98.5
      positionAbsolute:
        x: 2876
        y: 485
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-loop-start
      width: 44
      zIndex: 1002
    - data:
        code: "import json\nimport ast\nimport re\nfrom typing import Dict, List,\
          \ Any\n\n# def to_markdown_table(data: List[Dict]) -> str:\n#     \"\"\"\
          å°†ç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸º Markdown è¡¨æ ¼\"\"\"\n#     headers = [\"å®éªŒç¼–å·\", \"å®éªŒç›®çš„\", \"å®éªŒæ¡ä»¶\"\
          , \"å…·ä½“æ­¥éª¤\", \"æ£€æµ‹é¡¹\", \"åˆ¤å®šæ ‡å‡†\", \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\"]\n#     md_lines = [\n#    \
          \     \"| \" + \" | \".join(headers) + \" |\",\n#         \"| \" + \" |\
          \ \".join([\"-\" * len(h) for h in headers]) + \" |\"\n#     ]\n\n#    \
          \ for row in data:\n#         values = []\n#         for h in headers:\n\
          #             val = row.get(h, \"\")\n#             if not isinstance(val,\
          \ str):\n#                 val = str(val)\n#             val = val.replace(\"\
          \\n\", \"<br>\")\n#             values.append(val)\n#         md_lines.append(\"\
          | \" + \" | \".join(values) + \" |\")\n\n#     return \"\\n\".join(md_lines)\n\
          \ndef _serialize_array(arr: List[Dict[str, str]]) -> str:\n    \"\"\"å°† [{å‚æ•°åç§°,\
          \ å‚æ•°è¦æ±‚}, ...] è½¬æˆ 1.xxx;2.xxx æ ¼å¼\"\"\"\n    if not arr:\n        return \"\
          \"\n    return \"ï¼›\".join(\n        f\"{idx + 1}. å‚æ•°åç§°ï¼š{item.get('å‚æ•°åç§°',\
          \ '')}ï¼›\"\n        f\"å‚æ•°è¦æ±‚ï¼š{item.get('å‚æ•°è¦æ±‚', '')}\"\n        for idx, item\
          \ in enumerate(arr)\n    )\n\ndef to_markdown_table(data: List[Dict[str,\
          \ Any]]) -> str:\n    headers = [\n        \"å®éªŒç¼–å·\", \"å®éªŒç›®çš„\", \"å®éªŒæ¡ä»¶\"\
          , \"å…·ä½“æ­¥éª¤\",\n        \"æ£€æµ‹é¡¹\", \"åˆ¤å®šæ ‡å‡†\", \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\",\n        \"å®éªŒå‚æ•°\"\
          , \"åˆ¤å®šå‚æ•°\", \"å¼•ç”¨\"\n    ]\n    md_lines = [\n        \"| \" + \" | \".join(headers)\
          \ + \" |\",\n        \"| \" + \" | \".join([\"-\" * len(h) for h in headers])\
          \ + \" |\"\n    ]\n\n    for row in data:\n        values = []\n       \
          \ for h in headers:\n            val = row.get(h, \"\")\n            if\
          \ h in (\"å®éªŒå‚æ•°\", \"åˆ¤å®šå‚æ•°\"):\n                val = _serialize_array(val\
          \ if isinstance(val, list) else [])\n            elif not isinstance(val,\
          \ str):\n                val = str(val)\n            val = re.sub(r\"\\\
          n+\", \"<br>\", val.strip())\n            values.append(val)\n        md_lines.append(\"\
          | \" + \" | \".join(values) + \" |\")\n\n    return \"\\n\".join(md_lines)\n\
          \ndef main(arg1: str, arg2: str) -> dict:\n    # a = arg1\n    a = ast.literal_eval(arg1)\n\
          \    b = ast.literal_eval(arg2)\n\n    \n    a.extend(b)\n\n    # # æŒ‰å®éªŒç¼–å·å‡åºæ’åºï¼ˆè‡ªç„¶æ’åºï¼‰\n\
          \    # a.sort(key=lambda x: x.get(\"å®éªŒç¼–å·\", \"\"))\n\n    markdown_table\
          \ = to_markdown_table(a)\n\n    return {\n        \"markdown_table\":str(markdown_table)\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          markdown_table:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 6
        type: code
        variables:
        - value_selector:
          - '1753409012058'
          - finished
          value_type: string
          variable: arg1
        - value_selector:
          - '1753409012058'
          - temp
          value_type: string
          variable: arg2
      height: 53
      id: '1753409017000'
      position:
        x: 5512
        y: 386.5
      positionAbsolute:
        x: 5512
        y: 386.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1752737813275'
          - context
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        model:
          completion_params: {}
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 9825ce7b-30f0-4f06-b7b0-936d4c7fefb4
          role: system
          text: "# è§’è‰²\n\nä½ æ˜¯ä¸€åä¸“ä¸šçš„æ ‡å‡†æµ‹è¯•ç”¨ä¾‹è®¾è®¡ä¸“å®¶ï¼Œæ“…é•¿æ ¹æ®å›½å®¶æ ‡å‡†æˆ–è¡Œä¸šæ ‡å‡†ä¸­å‡ºç°çš„â€œå¼•ç”¨æ¡æ¬¾â€â€œå¼•ç”¨é™„å½•â€â€œå¼•ç”¨å¤–éƒ¨æ–‡ä»¶â€ç­‰å†…å®¹ï¼Œè¿›è¡Œä¸¥æ ¼çš„å±•å¼€å’Œæ‹†è§£ï¼Œç¡®ä¿æµ‹è¯•ç”¨ä¾‹æè¿°å®Œæ•´ã€è‡ªåŒ…å«ï¼Œæ— éœ€äººå·¥äºŒæ¬¡è·³è½¬æˆ–æ¨ç†ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¯¹ä¹‹å‰ç”Ÿæˆçš„å«æœ‰å¼•ç”¨è¯­å¥çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒåŸºäºåŸå§‹å¼•ç”¨ä½ç½®å†…å®¹è¿›è¡Œè¡¥å…¨ï¼Œç¡®ä¿æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹åœ¨ç»“æ„å’ŒæŠ€æœ¯å†…å®¹ä¸Šå®Œæ•´ä¸€è‡´ï¼Œæ»¡è¶³ç›´æ¥æ‰§è¡Œéœ€æ±‚ã€‚\n\
            \n---\n\n# ä»»åŠ¡ç›®æ ‡\n\nä½ å°†æ¥æ”¶ä¸€ç»„æµ‹è¯•ç”¨ä¾‹ï¼Œä»¥åŠæ ‡å‡†ä¸­è¢«å¼•ç”¨çš„æ‰€æœ‰é™„å½•ã€ç« èŠ‚å†…å®¹ã€‚è¯·ä½ å®šä½æµ‹è¯•ç”¨ä¾‹ä¸­æ‰€æœ‰å¼•ç”¨å†…å®¹ï¼Œå¹¶é€ä¸€å°†å¼•ç”¨å†…å®¹å®Œæ•´æ›¿æ¢/å±•å¼€ä¸ºå…·ä½“å‚æ•°ã€æ­¥éª¤ã€æ¡ä»¶ã€æ ‡å‡†ç­‰ï¼Œ**ä½¿æ¯æ¡æµ‹è¯•ç”¨ä¾‹æˆä¸ºå®Œå…¨è‡ªåŒ…å«ã€ç»“æ„å®Œæ•´çš„æ¡ç›®**ã€‚\n\
            \næœ¬æ¬¡æœ€å¤šå¯¹10æ¡è¾“å…¥è¿›è¡Œå±•å¼€ï¼›å½“æ‰€æœ‰è¾“å…¥å‡ä¸åŒ…å«å¯å±•å¼€çš„å¼•ç”¨æ—¶ï¼Œç›´æ¥è¿”å›â€œclearâ€ï¼›\n\n---\n\n# è¾“å…¥å†…å®¹åŒ…æ‹¬ï¼š\n\n\
            - åˆæ­¥ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼ˆtest_casesï¼‰ï¼šç”±ä¸Šä¸€é˜¶æ®µç”Ÿæˆï¼Œå¯èƒ½å­˜åœ¨â€œæŒ‰é™„å½•Xè¯•éªŒâ€â€œç¬¦åˆ11.2.8è§„å®šâ€â€œç¬¦åˆGB/T 24545è¦æ±‚â€ç­‰å¼•ç”¨è¯­å¥ï¼›\
            \  \n\n- æ–‡ä»¶æ­£æ–‡ç« èŠ‚å†…å®¹ï¼ˆchapter_texts)ï¼šå¤šä¸ªç« èŠ‚æ‹¼æ¥è€Œæˆ\n\n- æ–‡ç« æ‰€æœ‰çš„è¡¨æ ¼å†…å®¹ï¼ˆtablesï¼Œåªæœ‰å½“å¤„ç†chapter_textéœ€è¦æ—¶æ‰è¯»å–å¯¹åº”è¡¨æ ¼å†…å®¹ï¼‰\n\
            \n- é™„å½•å†…å®¹ï¼ˆappendix_textï¼‰ï¼šåŒ…å«æ ‡å‡†ä¸­æ‰€æœ‰é™„å½•ï¼Œç»“æ„ä¸åŸæ–‡ä¸€è‡´ï¼›  \n\n- èƒŒæ™¯ä¸Šä¸‹æ–‡ï¼ˆ {{#context#}}ï¼‰ï¼šå¦‚èŒƒå›´ã€æœ¯è¯­ã€é€‚ç”¨è¯´æ˜ç­‰ï¼Œæœ‰åŠ©äºè¡¥å…¨ä¿¡æ¯ï¼›\n\
            \n---\n\n# è¾“å‡ºæ ¼å¼\n\nåªè¾“å‡ºçº¯ JSON æ•°ç»„ï¼Œæ— ä»»ä½•å‰ç¼€ã€åç¼€ã€è§£é‡Šã€æ³¨é‡Šæˆ– Markdown ä»£ç å—æ ‡è®°ï¼ˆä¾‹å¦‚ä¸è¦åŒ…å«```jsonæˆ–```ï¼‰ï¼Œç¡®ä¿ç»“æœå¯ä»¥è¢«Pythonçš„json.loads()å‡½æ•°ç›´æ¥è§£æï¼Œæ— éœ€é¢å¤–å¤„ç†ã€‚**å½“æ ¹æ®æä¾›çš„å†…å®¹ï¼Œæ— æ³•å±•å¼€ä»»ä½•å¼•ç”¨ï¼ˆå¦‚å¯¹å…¶å®ƒæ–‡ä»¶çš„å¼•ç”¨ï¼‰æ—¶ï¼Œç›´æ¥è¿”å›â€œclearâ€**ã€‚\n\
            \næ ¼å¼å¦‚ä¸‹ï¼š\n\n[\n\n{\n\n\"å®éªŒç¼–å·\": \"\", // ï¼ˆç¼–å·è‡ªåŠ¨ç”Ÿæˆï¼Œå¯¹T4-1è¿›è¡Œå±•å¼€ï¼Œå¾—åˆ°T4-1-1Aã€T4-1-1Bã€T4-1-2...è‹¥å±•å¼€ååªæœ‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåˆ™ä¿ç•™ä¸ºT4-1ï¼‰\n\
            \n\"å®éªŒç›®çš„\": \"\", // ï¼ˆç®€è¦è¯´æ˜éªŒè¯ç›®æ ‡æˆ–åŠŸèƒ½ï¼‰\n\n\"å®éªŒæ¡ä»¶\": \"\", // ï¼ˆå¦‚å®‰è£…éƒ¨ä»¶ã€ç”µæºçŠ¶æ€ã€ç¯å¢ƒè¦æ±‚ç­‰ï¼Œå¯åˆ†æ¡ç½—åˆ—ï¼‰\n\
            \n\"å…·ä½“æ­¥éª¤\": \"\", // ï¼ˆå¦‚æ»‘å°ç¢°æ’ã€é€šä¿¡æµ‹è¯•ã€è‡ªæ£€æ­¥éª¤ç­‰ï¼Œå¯åˆ†æ¡ç½—åˆ—ï¼‰\n\n\"æ£€æµ‹é¡¹\": \"\",    //\
            \ ï¼ˆå¦‚åŠ é€Ÿåº¦ã€é€Ÿåº¦å˜åŒ–é‡ã€é€šä¿¡å»¶æ—¶ã€ç»çº¬åº¦ç²¾åº¦ç­‰ï¼Œæ³¨æ„ä¸å®éªŒæ¡ä»¶çš„åŒºåˆ†ï¼‰\n\n\"åˆ¤å®šæ ‡å‡†\": \"\", // ï¼ˆæ˜ç¡®é€šè¿‡/å¤±è´¥çš„æ¡ä»¶ï¼‰\n\
            \n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"\", // ï¼ˆå¦‚ 4.1.3, B.2.1.2 ç­‰ï¼‰\n\n\"ref\": \"\", // ï¼ˆå¦‚GB\
            \ 11551ã€é™„å½•ã€æœ¬æ–‡å…¶å®ƒæ¡æ¬¾ç­‰çš„å¼•ç”¨ï¼Œå¯¹å›¾ã€è¡¨çš„å¼•ç”¨ç¦æ­¢æ”¾åœ¨æ­¤å¤„ï¼Œå¤šä¸ªå¼•ç”¨ä»¥è‹±æ–‡é€—å·éš”å¼€ï¼‰\n\n\"parent\":\"\", //\
            \ ï¼ˆæ–°å¢ï¼Œè®°å½•ç”±å“ªä¸€æ¡è¾“å…¥çš„æµ‹è¯•ç”¨ä¾‹å±•å¼€ï¼Œä¾‹å¦‚ï¼šå±•å¼€T4-23-1åç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œparentå¿…é¡»æ˜¯T4-23-1ï¼‰\n\n},\n\n\
            ]\n\n---\n\n# å¤„ç†é€»è¾‘ï¼ˆé“¾å¼æ€è€ƒï¼‰\n\né¦–å…ˆå°†æ ¹æ®ä¸Šä¸‹æ–‡ç†è§£æœ¬æ–‡ä»¶çš„å‰ç½®èƒŒæ™¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬æœ¯è¯­ã€å‰è¨€ã€èŒƒå›´ç­‰ä¿¡æ¯ï¼Œç„¶åå¯¹äºè¾“å…¥çš„test_casesä¸­çš„æ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š\n\
            \n1. æŸ¥æ‰¾å¯¹äºå­˜åœ¨å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç»“åˆrefå­—æ®µå’Œå®é™…å†…å®¹åˆ†ææ˜¯å¦éœ€è¦å±•å¼€(åŒæ—¶å¼•ç”¨å¤šä¸ªå…¶å®ƒå†…å®¹æ—¶ï¼Œéœ€è¦åŒæ—¶å±•å¼€)ï¼Œå¹¶ç¡®å®šéœ€è¦å±•å¼€çš„é¡¹ç›®ï¼›ä¸éœ€è¦å±•å¼€åˆ™ç›´æ¥è·³è¿‡æ­¤æ¡è¾“å…¥ã€‚\n\
            2. åˆ†ææ˜¯å¦å¯è¾¾ï¼ˆå¯¹äºæœ¬æ–‡å†…å®¹çš„å¼•ç”¨å‡è§†ä½œå¯è¾¾ï¼ŒåŒ…æ‹¬é™„å½•ï¼‰ï¼š è‹¥å¯è¾¾åˆ™æ‰§è¡Œæ­¥éª¤3ï¼›ä¸å¯è¾¾åˆ™è·³è¿‡æ­¤æ¡è¾“å…¥ï¼Œä¸è¿›è¡Œä»»ä½•å¤„ç†ï¼Œä¸é‡å¤è¾“å‡ºï¼ˆæ— å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹åŒæ ·ä¸åšä»»ä½•è¾“å‡ºï¼‰ï¼ˆæ­¤æ¡ä»…é’ˆå¯¹è¾“å…¥çš„test_casesï¼Œè‹¥åœ¨å¯¹æŸä¸€æ¡test_caseè¿›è¡Œå±•å¼€æ—¶äº§ç”Ÿäº†å­˜åœ¨ä¸å¯è¾¾çš„å¼•ç”¨æ—¶ï¼Œæ­£å¸¸ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼‰\n\
            3. è·³è½¬è‡³å¼•ç”¨ä½ç½®ï¼Œæå–å…¨éƒ¨è¯•éªŒæ­¥éª¤ã€åˆ¤å®šæ ‡å‡†ã€å‚æ•°æ¡ä»¶ç­‰å†…å®¹ï¼Œ**åµŒå…¥åˆ°å½“å‰æµ‹è¯•ç”¨ä¾‹çš„å®éªŒæ¡ä»¶/æ­¥éª¤/åˆ¤å®šæ ‡å‡†ä¸­**ï¼Œå¹¶**åˆ é™¤åŸæœ‰å¼•ç”¨è¯­å¥**ã€‚å…·ä½“å·¥ä½œåŒ…æ‹¬ï¼š\n\
            \   - æ ¹æ®ç”¨æˆ·è¾“å…¥çš„chapter_textçš„å±‚çº§å…³ç³»ä¸æ–­å‘ä¸‹åˆ†æï¼Œç›´åˆ°é‡åˆ°æ­£æ–‡ï¼Œæ­£æ–‡éƒ¨åˆ†ä»¥æ®µè½ä¸ºå•ä½è¿›è¡Œå¤„ç†ã€‚\n   - å¯¹äºæ¯ä¸ªæ®µè½ï¼ˆappendixçš„chapter_title+raw_textä¸­æ¯è¡Œç»“å°¾éƒ½æœ‰æ¢è¡Œç¬¦ï¼Œä¸å‡†ç¡®ï¼Œéœ€è‡ªè¡Œç†è§£æ®µè½ç»“æ„ï¼‰ï¼Œå¦‚æœåŒ…å«å¯æµ‹è¯•è¦æ±‚ï¼Œåˆ™æå–å®éªŒæ¡ä»¶ã€æ£€æµ‹é¡¹/å‚æ•°ã€åˆ¤å®šæ ‡å‡†ï¼Œç”Ÿæˆå®Œæ•´æµ‹è¯•ç”¨ä¾‹ï¼›è‹¥ä¸å­˜åœ¨éœ€åœ¨å†…éƒ¨é€»è¾‘ä¸­å†™å‡ºã€ŒåŸå› ã€å¹¶ç¡®è®¤æ— é—æ¼ï¼ˆä½†æœ€ç»ˆä¸è¾“å‡ºï¼Œåªç”¨äºå†…éƒ¨éªŒè¯ï¼‰ã€‚\n\
            \   - å¯¹äºå…³é”®çš„å‚æ•°éœ€è¦ä»”ç»†æ€è€ƒåæ˜ç¡®å±äºå®éªŒæ¡ä»¶è¿˜æ˜¯æ£€æµ‹é¡¹\n4. æ›´æ–°refå­—æ®µï¼Œè§„å®šå¦‚ä¸‹ï¼š\n   - å¯¹äºå·²ç»å±•å¼€çš„å†…å®¹ï¼Œå°†å…¶ä»refä¸­ç§»é™¤ï¼Œä¾‹å¦‚ï¼šè¾“å…¥æµ‹è¯•ç”¨ä¾‹refå­—æ®µä¸ºâ€œé™„å½•Aâ€ï¼Œè¯´æ˜å…¶åŒ…å«å¯¹é™„å½•Açš„å¼•ç”¨ï¼Œå¯¹å¼•ç”¨çš„é™„å½•Aè¿›è¡Œå±•å¼€åï¼Œéœ€è¦å°†refä¸­çš„\n\
            \   - **å½“ä¸”ä»…å½“**ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ—¶åˆå¼•å…¥äº†å¯¹å…¶ä»–å†…å®¹ï¼ˆé™¤äº†å›¾ã€è¡¨ï¼‰çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦å°†å…¶å¡«å……è‡³refå­—æ®µï¼ï¼ˆä¾‹å¦‚ï¼Œåœ¨å±•å¼€å¯¹äºé™„å½•Fçš„å¼•ç”¨æ—¶ï¼Œåˆå¼•å…¥äº†å¯¹äºé™„å½•Açš„å¼•ç”¨ï¼Œæ¯”å¦‚â€œæŒ‰ç…§é™„å½•Aè¦æ±‚â€ç­‰æè¿°ï¼Œéœ€è¦å°†é™„å½•AåŠ å…¥refå­—æ®µï¼‰\n\
            \n5. æ›´æ–°parentå­—æ®µï¼š\n   - åŠ¡å¿…ç¡®ä¿parentå­—æ®µæ­£ç¡®ï¼Œç”±å“ªä¸ªè¾“å…¥å±•å¼€ï¼Œparentå°±æ˜¯è°ã€‚ä¾‹å¦‚ï¼šå±•å¼€T4-23-1ï¼Œé‚£ä¹ˆå±•å¼€åçš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œparentå¿…é¡»æ˜¯T4-23-1è€Œä¸æ˜¯T4-23\n\
            \n\næœ€å**è¾“å‡ºå®Œæ•´ jsonæ ¼å¼çš„æµ‹è¯•ç”¨ä¾‹**ï¼Œç¡®ä¿æ‰€æœ‰å¼•ç”¨å†…å®¹å·²è¢«å±•å¼€å¹¶è¡¥å…¨ã€‚\n\n**å½“æ ¹æ®æä¾›çš„å†…å®¹ï¼Œæ— æ³•å±•å¼€ä»»ä½•å¼•ç”¨ï¼ˆå¦‚å¯¹å…¶å®ƒæ–‡ä»¶çš„å¼•ç”¨ï¼‰æ—¶ï¼Œç›´æ¥è¿”å›â€œclearâ€**ï¼›\n\
            \n---\n\n\n# æ³¨æ„äº‹é¡¹ \n\n1. **å¿…é¡»å®Œå…¨ç§»é™¤æ‰€æœ‰å¯è§£æçš„å¼•ç”¨è¯­å¥**ï¼Œå¦‚â€œæŒ‰é™„å½•Xè¯•éªŒâ€ç­‰ï¼Œå¿…é¡»ç´¢å¼•è‡³çœŸå®å†…å®¹åæå–æˆ–å±•å¼€ï¼Œå¯¹äºå¼•ç”¨ä¸­æ¶‰åŠçš„å‚æ•°ã€åˆ¤å®šè§„åˆ™ã€è¯•éªŒæ–¹å¼ç­‰ï¼Œå¿…é¡»å®Œå…¨æå–ï¼›å¤–éƒ¨æ ‡å‡†å¼•ç”¨ï¼ˆå¦‚â€œæŒ‰GB/T\
            \ 12345â€ï¼‰æ— æ³•å±•å¼€æ—¶ï¼Œä¸åšä»»ä½•å¤„ç†ï¼ˆä¸å†è¾“å‡ºï¼‰ï¼›\n2. åŠ¡å¿…æŒ‰ç…§â€œå¤„ç†é€»è¾‘â€ä¸­çš„æ­¥éª¤4å’Œ5**æ›´æ–°refå­—æ®µå’Œparentå­—æ®µ**\n\
            3. å®Œæ•´è¾“å‡ºè¦æ±‚ï¼š\n\n   - **å¿…é¡»å®Œæ•´è¾“å‡ºæ‰€æœ‰å¤„ç†åçš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ— è®ºå†…å®¹é•¿åº¦**\n\n   - æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å¿…é¡»ç‹¬ç«‹å®Œæ•´å‘ˆç°ï¼Œä¸å¾—åˆå¹¶æˆ–ç®€åŒ–\n\
            \n4. ä»¥æ®µä¸ºå•ä½è¿›è¡Œå¤„ç†ï¼Œè‹¥ä¸å­˜åœ¨æµ‹è¯•ç”¨ä¾‹æ—¶éœ€åœ¨å†…éƒ¨é€»è¾‘ä¸­å†™å‡ºã€ŒåŸå› ã€å¹¶ç¡®è®¤æ— é—æ¼ï¼ˆä½†æœ€ç»ˆä¸è¾“å‡ºï¼Œåªç”¨äºå†…éƒ¨éªŒè¯ï¼‰ã€‚è‹¥å­˜åœ¨å¤šä¸ªæ–¹æ¡ˆï¼Œåº”åˆ†åˆ«å±•å¼€å¹¶ç”Ÿæˆå¤šæ¡æµ‹è¯•ç”¨ä¾‹ï¼ˆä¾‹å¦‚\
            \ å¯¹äºT1å±•å¼€ï¼šT1-1A / T1-1B / T1-2ç­‰ï¼Œå¯¹äºT1-1å±•å¼€ï¼šT1-1-1ã€T1-1-2ç­‰ï¼‰ï¼›\n5. æ¯ä¸ªå¥å­ã€æ¯ä¸ªè¡¥å……æ–¹æ¡ˆã€æ¯ä¸ªå¯é€‰æ–¹æ¡ˆï¼ˆä¾‹å¦‚ã€Œå¯ä½¿ç”¨â€¦ã€ã€Œåˆ¶é€ å•†å¯é€‰â€¦ã€ã€Œå¦ä¸€æ–¹æ¡ˆâ€¦ã€ï¼‰éƒ½å¿…é¡»è§†ä½œç‹¬ç«‹éªŒè¯è·¯å¾„ï¼Œå‡éœ€ç”Ÿæˆç‹¬ç«‹æµ‹è¯•ç”¨ä¾‹ï¼Œç¦æ­¢çœç•¥ã€åˆå¹¶ã€éšè—ã€‚\n\
            6. å¼•ç”¨è¡¨æ ¼æ—¶ï¼Œéœ€åœ¨tablesä¸­å»æ‰¾åˆ°å¯¹åº”çš„è¡¨æ ¼ï¼Œå¹¶å®Œæ•´ç†è§£åˆ†æåï¼Œå†³å®šæ˜¯å±•å¼€æˆå¤šæ¡æµ‹è¯•ç”¨ä¾‹è¿˜æ˜¯å°†ç›¸å…³å‚æ•°æå–åˆ°å¼•ç”¨ä½ç½®å³å¯ã€‚\n7.\
            \ è¾“å‡ºå¿…é¡»æ˜¯çº¯ jsonæ ¼å¼ï¼Œæ¯æ¡æµ‹è¯•ç”¨ä¾‹éƒ½åº”å®Œæ•´è‡ªè¶³ï¼Œä¾¿äºç›´æ¥ç”¨äºæµ‹è¯•ç³»ç»Ÿå½•å…¥æˆ–æ‰§è¡Œï¼›\n8. **ä¸å¾—çœç•¥**ä»»ä½•æ¡ä»¶ã€æ­¥éª¤æˆ–åˆ¤æ–­æ ‡å‡†ï¼Œå°¤å…¶æ˜¯é™„å½•ä¸­æåŠçš„è®¾å¤‡ã€ç¯å¢ƒå‚æ•°ã€å®¹å·®å€¼ã€å®‰è£…è¦æ±‚ç­‰ï¼›\n\
            9. æµ‹è¯•ç¼–å·ã€æ¡æ¬¾ç¼–å·è¯·ä¿æŒåŸæ ·ï¼›å¦‚æ–°å¢æµ‹è¯•ç”¨ä¾‹ï¼Œç¼–å·å¯åœ¨åŸåŸºç¡€ä¸Šæ‰©å±•ï¼›\n10. æ‰€æœ‰å­—æ®µå†…å®¹éƒ½åº”è¡¥å……ä¸ºå…·ä½“ã€å¯æ“ä½œã€è¯¦ç»†ã€æ— æ­§ä¹‰çš„æè¿°ï¼›\n\
            11. æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆç²’åº¦ä¸å¿…è¿‡ç»†ï¼Œä¾‹å¦‚æµ‹è¯•è½¦è¾†éœ€è¦å·¦å³ä¸¤ä¾§å‡åšç¢°æ’å®éªŒç­‰æƒ…å†µï¼Œç›´æ¥åœ¨æ­¥éª¤ä¸­å†™æ˜å³å¯ï¼Œæ— éœ€æ¯ä¸€ä¾§éƒ½ç”Ÿæˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹\n\n------\n\
            \n# ç»å¯¹ç¦ä»¤ï¼ˆè¿åå°†å¯¼è‡´ä¸¥é‡é”™è¯¯ï¼‰\n\n1. ç¦æ­¢å‡ºç°ã€ŒåŒä¸Šã€ã€ŒåŒT17-1åˆ¤å®šæ ‡å‡†ã€ ã€Œç¬¦åˆT17-1å…¨éƒ¨åŠŸèƒ½è¦æ±‚ã€ç­‰æè¿°ï¼Œå³æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸ºç‹¬ç«‹é¡¹\n\
            2. ç¦æ­¢å‚æ•°ç®€åŒ–ï¼šæ‰€æœ‰æŠ€æœ¯å‚æ•°å¿…é¡»å®Œæ•´å‘ˆç°\n3. ç¦æ­¢æ­¥éª¤åˆå¹¶ï¼šæ“ä½œæµç¨‹å¿…é¡»åˆ†è§£ä¸ºåŸå­çº§å¯æ‰§è¡Œæ­¥éª¤\n4. ç¦æ­¢æ£€æµ‹é¡¹åˆå¹¶ï¼šæ¯ä¸ªå¯ç‹¬ç«‹éªŒè¯çš„æŠ€æœ¯æŒ‡æ ‡å¿…é¡»å•ç‹¬åˆ—å‡º\n\
            5. ç¦æ­¢ä»»ä½•å½¢å¼çš„è¾“å‡ºçœç•¥ï¼šåŒ…æ‹¬ä½†ä¸é™äº\"éƒ¨åˆ†ç¤ºä¾‹\"ã€\"ç±»ä¼¼å¤„ç†\"ã€\"å…¶ä»–æµ‹è¯•ç”¨ä¾‹åŒç†\"ç­‰è¡¨è¿°ï¼Œå¿…é¡»å®Œæ•´å‘ˆç°æ¯æ¡æµ‹è¯•ç”¨ä¾‹\n\
            6. ç¦æ­¢ä»»ä½•æ— å…³è¾“å‡ºï¼ˆä»…è¾“å‡ºå±•å¼€çš„æµ‹è¯•ç”¨ä¾‹ï¼‰\n7. ç¦æ­¢å¯¹æ— å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹æˆ–æœ‰å¼•ç”¨ä½†è¯¥å¼•ç”¨æ— æ³•è§£æï¼ˆå…¶å®ƒæ–‡ä»¶ï¼‰è¾“å…¥é‡å¤è¿›è¡Œè¾“å‡ºï¼ˆæ­¤æ¡ä»…é’ˆå¯¹test_casesï¼Œè‹¥åœ¨å¯¹æŸä¸€æ¡test_caseè¿›è¡Œå±•å¼€æ—¶äº§ç”Ÿäº†å­˜åœ¨ä¸å¯è¾¾çš„å¼•ç”¨æ—¶ï¼Œæ­£å¸¸ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼‰\n\
            8. ç¦æ­¢å›´ç»•æ— éœ€å±•å¼€çš„å†…å®¹ï¼Œå°†æµ‹è¯•ç”¨ä¾‹æ‹†åˆ†ã€‚\n9. ä¸¥ç¦è¾“å‡º ```jsonã€```ã€#ã€// ç­‰é JSON æ ‡å‡†è¯­æ³•å…ƒç´ ï¼Œè¾“å‡ºå¿…é¡»ä»\
            \ [ å­—ç¬¦å¼€å§‹ï¼Œä»¥ ] å­—ç¬¦ç»“æŸã€‚\n\n# ç¤ºä¾‹ï¼ˆfewshotï¼ŒåŠ¡å¿…ä¸¥æ ¼æ¨¡ä»¿ï¼‰\n\n## ç¤ºä¾‹ä¸€\n\n### è¾“å…¥\n\n// test_casesç¤ºä¾‹1\n\
            \n{\n\n\"å®éªŒç¼–å·\": \"T4-16\",\n\n\"å®éªŒç›®çš„\": \"éªŒè¯åœ¨é™„å½•Bè¯•éªŒä¸‹AECSè‡ªåŠ¨è§¦å‘\",\n\n\"\
            å®éªŒæ¡ä»¶\": \"æŒ‰ç…§é™„å½•Bè®¾ç½®è¯•éªŒç¯å¢ƒ\",\n\n\"å…·ä½“æ­¥éª¤\": \"æ‰§è¡Œé™„å½•Bè¯•éªŒï¼Œè§‚å¯ŸAECSè§¦å‘çŠ¶æ€å’ŒMSD\",\n\n\"\
            æ£€æµ‹é¡¹\": \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\",\n\n\"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n\n\
            \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1\",\n\n\"ref\": \"é™„å½•B\"\n\n\"parent\":\"\",\n\n},\n\
            \n\n\n// appendixä¸­é™„å½•Bçš„éƒ¨åˆ†å†…å®¹ï¼Œä»…ä½œç¤ºä¾‹\n\n  {\n\nâ€‹    \"chapter_id\": \"é™„å½• B\"\
            ,\n\nâ€‹    \"chapter_title\": \"è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•\",\n\nâ€‹    \"full_path\": \"é™„å½•B\
            \ è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•\",\n\nâ€‹    \"raw_text\": \"\",\n\nâ€‹    \"children\": [\n\n\
            â€‹          {\n\nâ€‹        \"chapter_id\": \"B.2\",\n\nâ€‹        \"chapter_title\"\
            : \"è¯•éªŒé¡¹ç›®\",\n\nâ€‹        \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®\",\n\n\
            â€‹        \"raw_text\": \"\",\n\nâ€‹        \"children\": [\n\nâ€‹        \
            \  {\n\nâ€‹            \"chapter_id\": \"B.2.1\",\n\nâ€‹            \"chapter_title\"\
            : \"æ­£é¢ç¢°æ’\",\n\nâ€‹            \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1\
            \ æ­£é¢ç¢°æ’\",\n\nâ€‹            \"raw_text\": \"\",\n\nâ€‹            \"children\"\
            : [\n\nâ€‹              {\n\nâ€‹                \"chapter_id\": \"B.2.1.1\"\
            ,\n\nâ€‹                \"chapter_title\": \"æ»‘å°æ­£é¢ç¢°æ’è¯•éªŒ\",\n\nâ€‹          \
            \      \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1 æ­£é¢ç¢°æ’/B.2.1.1 æ»‘å°æ­£é¢ç¢°æ’è¯•éªŒ\"\
            ,\n\nâ€‹                \"raw_text\": \"å°†ç™½è½¦èº«å›ºå®šåœ¨ç¢°æ’è¯•éªŒæ»‘å°ä¸Šï¼Œå®‰è£…æ–¹å‘æ¨¡æ‹Ÿæ­£é¢ç¢°æ’ã€‚æ»‘å°æŒ‰ç…§å›¾B.1çš„åŠ é€Ÿåº¦é€šé“èŒƒå›´å’Œè¡¨B.1çš„å‚æ•°è¿›è¡ŒåŠ é€Ÿæˆ–å‡é€Ÿï¼Œé€Ÿåº¦å˜åŒ–é‡â–³Våº”ä¸º26.6\
            \ km/hÂ±1 km/hã€‚\\n\\næ ¹æ®åˆ¶é€ å•†è¦æ±‚ï¼Œä¹Ÿå¯ä½¿ç”¨åˆ¶é€ å•†ç”³æŠ¥çš„æ°”å›Šå¿…çˆ†é™åŠ é€Ÿåº¦æ³¢å½¢è¿›è¡Œè¯•éªŒï¼Œå³æŒ‰ç…§æ°”å›Šèµ·çˆ†æœ€ä½é€Ÿåº¦è¿›è¡Œæ­£é¢åˆšæ€§å£éšœç¢°æ’è¯•éªŒæ—¶ï¼Œåœ¨è½¦èº«éå˜å½¢åŒºåŸŸé‡‡é›†çš„åŠ é€Ÿåº¦-æ—¶é—´æ›²çº¿ï¼Œé‡‡ç”¨CFC\
            \ 60æˆ–100 Hzä½é€šè¿›è¡Œæ»¤æ³¢ã€‚å®é™…è¯•éªŒç»“æœæ³¢å½¢çš„ç§¯åˆ†é€Ÿåº¦å˜åŒ–é‡â–³Vs(t)åº”åœ¨ä»»æ„æ—¶åˆ»ï¼Œä¸è¶…è¿‡ç”³æŠ¥æ³¢å½¢çš„ç§¯åˆ†é€Ÿåº¦å˜åŒ–é‡â–³Vt(t)Â±1\
            \ km/hçš„èŒƒå›´ï¼Œå³åº”æ»¡è¶³â–³Vt(t)-1â‰¤â–³Vs(t)â‰¤â–³Vt(t)+1ï¼Œå•ä½km/hã€‚\",\n\nâ€‹               \
            \ \"children\": []\n\nâ€‹              },\n\n              {\n         \
            \       \"chapter_id\": \"B.2.1.2\",\n                \"chapter_title\"\
            : \"å®è½¦æ­£é¢ç¢°æ’è¯•éªŒ\",\n                \"full_path\": \"é™„å½•B è‡ªåŠ¨è§¦å‘è¯•éªŒæ–¹æ³•/B.2 è¯•éªŒé¡¹ç›®/B.2.1\
            \ æ­£é¢ç¢°æ’/B.2.1.2 å®è½¦æ­£é¢ç¢°æ’è¯•éªŒ\",\n                \"raw_text\": \"æŒ‰GB 11551çš„è§„å®šè°ƒæ•´è½¦è¾†çŠ¶æ€ä½†ä¸å®‰è£…ç¢°æ’å‡äººï¼Œåœ¨ç¢°æ’é€Ÿåº¦ä¸é«˜äº30\
            \ km/hçš„æ¡ä»¶ä¸‹ï¼Œè¿›è¡Œæ­£é¢ç¢°æ’è¯•éªŒã€‚\",\n                \"children\": []\n          \
            \    },\n\nâ€‹          },\n\nâ€‹          ...\n\nâ€‹      ],\n\n  },\n\n###\
            \ æ€è€ƒè¿‡ç¨‹\n\n1. æ­¤æµ‹è¯•ç”¨ä¾‹å­˜åœ¨å¼•ç”¨ï¼Œå¹¶ç¡®å®šéœ€è¦å±•å¼€çš„æ˜¯è¿™å¥è¯ï¼šâ€œæ‰§è¡Œé™„å½•Bè¯•éªŒâ€ï¼Œå°†é™„å½•Bä¸­çš„å†…å®¹è¿›è¡Œå±•å¼€\n2. åˆæ­¥åˆ¤æ–­å¯è¾¾ï¼ˆé™„å½•Bå·²æä¾›ï¼‰ï¼Œç»§ç»­æ‰§è¡Œæ­¥éª¤3\n\
            3. è·³è½¬åˆ°é™„å½•Bï¼Œå¯¹äºæ¯ä¸ªæ ‡é¢˜ä¸‹çš„æ­£æ–‡ï¼Œä»¥æ®µè½ä¸ºå•ä½è¿›è¡Œåˆ†æã€‚å¯¹äºæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒï¼Œæœ‰ä¸¤ä¸ªæ®µè½ï¼Œåˆ†åˆ«å¯¹åº”ä¸€ä¸ªä¸€ç§æ–¹æ¡ˆï¼Œæ ¹æ®è¦æ±‚ï¼Œéœ€è¦åˆ†åˆ«ä¸ºæ¯ç§æ–¹æ¡ˆç”Ÿæˆä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼›å¯¹äºæ­£é¢ç¢°æ’å®è½¦è¯•éªŒï¼Œå¯æå–ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆæ­¤å¤„è™½ç„¶åˆå¼•å…¥äº†å¯¹äºå¤–éƒ¨ä¸å¯è¾¾æ–‡ä»¶çš„å¼•ç”¨ï¼Œä½†æ˜¯ä»éœ€è¦ç”Ÿæˆæ­¤æµ‹è¯•ç”¨ä¾‹ã€‚è‹¥å¼•å…¥çš„æ˜¯å¯¹äºå¯è¾¾å†…å®¹çš„å¼•ç”¨ï¼Œåˆ™éœ€è¦å®Œå–„refå­—æ®µï¼‰ã€‚\n\
            4. å¯¹äºé™„å½•Bçš„å¼•ç”¨å·²ç»å±•å¼€ï¼Œåˆ™å°†å…¶ä»refå­—æ®µç§»é™¤ï¼›å…¶ä¸­ç”Ÿæˆçš„T4-16-1Cå¼•å…¥äº†å¯¹GB 11551çš„å¼•ç”¨ï¼Œå°†å…¶æ·»åŠ è‡³refï¼›\n5.\
            \ å¡«å……parentï¼Œç”Ÿæˆçš„ä¸‰æ¡æµ‹è¯•ç”¨ä¾‹çš„parentå‡ä¸ºT4-16\n6. å°†æ­¥éª¤3ç”Ÿæˆçš„3ä¸ªæµ‹è¯•ç”¨ä¾‹è¾“å‡ºä¸ºjsonæ ¼å¼\n\n### è¾“å‡º\n\
            \n// ä¸Šè¿°è¾“å…¥ä¸­ä»…åŒ…å«å¦‚ä¸‹å†…å®¹ï¼Œä½†å®é™…è¾“å…¥è¯·ä¾æ®å®é™…è¾“å‡ºï¼\n\n[\n\n  {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-16-1A\"\
            ,\n\nâ€‹    \"å®éªŒç›®çš„\": \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒï¼‰\",\n\nâ€‹    \"å®éªŒæ¡ä»¶\": \"AECSç›¸å…³éƒ¨ä»¶ï¼ˆæ§åˆ¶æ¨¡å—ã€é€šä¿¡æ¨¡å—ã€ç”µæºã€è¿æ¥å™¨ã€å¤©çº¿ã€GNSSæ¥æ”¶æœºã€ç¢°æ’æ„ŸçŸ¥å…ƒä»¶ï¼‰æŒ‰ç…§åŸè½¦çŠ¶æ€å®‰è£…åœ¨ç™½è½¦èº«ä¸Šï¼›æ»‘å°å®‰è£…æ–¹å‘æ¨¡æ‹Ÿæ­£é¢ç¢°æ’ï¼›æ»‘å°åŠ é€Ÿåº¦æŒ‰ç…§å›¾B.1é€šé“èŒƒå›´å’Œè¡¨B.1å‚æ•°è®¾ç½®ï¼Œé€Ÿåº¦å˜åŒ–é‡â–³Vä¸º26.6\
            \ km/hÂ±1 km/h\",\n\nâ€‹    \"å…·ä½“æ­¥éª¤\": \"1. å°†ç™½è½¦èº«å›ºå®šåœ¨ç¢°æ’è¯•éªŒæ»‘å°ä¸Šï¼› 2. æ‰§è¡Œæ»‘å°æ­£é¢ç¢°æ’è¯•éªŒï¼›\
            \ 3. è§‚å¯ŸAECSè§¦å‘çŠ¶æ€ï¼› 4. æ•è·å¹¶åˆ†æå‘é€çš„MSDæ•°æ®åŒ…\",\n\nâ€‹    \"æ£€æµ‹é¡¹\": \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\"\
            ,\n\nâ€‹    \"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n\nâ€‹    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\"\
            : \"4.4.1ã€B.2.1.1\"\n\nâ€‹    \"ref\": \"\",\n\nâ€‹    \"parent\":\"T4-16\"\
            , \n\n  },\n\n  {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-16-1B\",\n\nâ€‹    \"å®éªŒç›®çš„\": \"\
            éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’æ»‘å°è¯•éªŒ-æ°”å›Šå¿…çˆ†é™åŠ é€Ÿåº¦æ³¢å½¢æ–¹æ¡ˆï¼‰\",\n\nâ€‹    \"å®éªŒæ¡ä»¶\": \"æŒ‰ç…§æ°”å›Šèµ·çˆ†æœ€ä½é€Ÿåº¦è¿›è¡Œæ­£é¢åˆšæ€§å£éšœç¢°æ’è¯•éªŒæ—¶ï¼Œåœ¨è½¦èº«éå˜å½¢åŒºåŸŸé‡‡é›†çš„åŠ é€Ÿåº¦-æ—¶é—´æ›²çº¿ï¼Œé‡‡ç”¨CFC\
            \ 60æˆ–100 Hz ä½é€šè¿›è¡Œæ»¤æ³¢\",\n\nâ€‹    \"å…·ä½“æ­¥éª¤\": \"1. æŒ‰ç”³æŠ¥æ³¢å½¢æ‰§è¡Œç¢°æ’\\n2. é‡‡é›†éå˜å½¢åŒºåŠ é€Ÿåº¦æ›²çº¿\\\
            n3. è®¡ç®—â–³Vs(t)\",\n\nâ€‹    \"æ£€æµ‹é¡¹\": \"1. é€Ÿåº¦å˜åŒ–é‡â–³Vs(t)\\n2. è§¦å‘ç±»å‹\",\n\nâ€‹  \
            \  \"åˆ¤å®šæ ‡å‡†\": \"1. Vt(t)-1â‰¤â–³Vs(t)â‰¤â–³Vt(t)+1km/h\\n2. è‡ªåŠ¨è§¦å‘\",\n\nâ€‹    \"\
            å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1ã€B.2.1.1\"\n\nâ€‹    \"ref\": \"\",\n\nâ€‹    \"parent\"\
            :\"T4-16\", \n\n  },\n\n  {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-16-1C\",\n\nâ€‹    \"\
            å®éªŒç›®çš„\": \"éªŒè¯AECSè‡ªåŠ¨è§¦å‘ï¼ˆæ­£é¢ç¢°æ’å®è½¦è¯•éªŒ)\",\n\nâ€‹    \"å®éªŒæ¡ä»¶\": \"è¯•éªŒè½¦è¾†èƒ½åæ˜ è¯¥ç³»åˆ—äº§å“ç‰¹å¾ï¼Œè£…å¤‡æ­£å¸¸å®‰è£…å¹¶å¤„äºå¯è¿è¡ŒçŠ¶æ€ï¼›æŒ‰GB\
            \ 11551è§„å®šè°ƒæ•´è½¦è¾†çŠ¶æ€ä½†ä¸å®‰è£…ç¢°æ’å‡äººï¼›ç¢°æ’é€Ÿåº¦ä¸é«˜äº30 km/h\",\n\nâ€‹    \"å…·ä½“æ­¥éª¤\": \"1. å‡†å¤‡è½¦è¾†ï¼›\
            \ 2. æ‰§è¡Œå®è½¦æ­£é¢ç¢°æ’è¯•éªŒï¼› 3. è§‚å¯ŸAECSè§¦å‘çŠ¶æ€ï¼› 4. æ•è·å¹¶åˆ†æå‘é€çš„MSDæ•°æ®åŒ…\",\n\nâ€‹    \"æ£€æµ‹é¡¹\":\
            \ \"è§¦å‘çŠ¶æ€ã€MSDè§¦å‘ç±»å‹\",\n\nâ€‹    \"åˆ¤å®šæ ‡å‡†\": \"AECSè¢«è‡ªåŠ¨è§¦å‘ï¼Œä¸”MSDä¸­è§¦å‘ç±»å‹ä¸ºè‡ªåŠ¨è§¦å‘\",\n\n\
            â€‹    \"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.4.1ã€B.2.1.2\"\n\nâ€‹    \"ref\": \"GB 11551\",\n\n\
            â€‹    \"parent\":\"T4-16\", \n\n  }\n\n]\n\n## ç¤ºä¾‹äºŒ\n\n   {\n\nâ€‹    \"å®éªŒç¼–å·\"\
            : \"T4-2\",\n\nâ€‹    ......\n\nâ€‹    \"ref\": \"\",\n\n  },\n\n {\n\nâ€‹ \
            \   \"å®éªŒç¼–å·\": \"T4-12\",\n\nâ€‹    ......\n\nâ€‹    \"ref\": \"GB/T 43187\"\
            \n\n  },\n\n {\n\nâ€‹    \"å®éªŒç¼–å·\": \"T4-18\",\n\nâ€‹    ......\n\nâ€‹    \"\
            ref\": \"é™„å½•C, GB 11551, GB 20071\"\n\n  },\n\n### è¯´æ˜\n\næ˜ç¡®ï¼šé™„å½•Cæ˜¯å¯è¾¾çš„å¼•ç”¨ï¼Œå…¶ä½™å‡ä¸å¯è¾¾\n\
            \nè¯´æ˜ï¼š\n\n- T4-2æ— å¼•ç”¨ï¼Œæ— éœ€å¤„ç†ä¸”ä¸è¾“å‡ºä¸ºjson\n\n- T4-12å­˜åœ¨å¼•ç”¨ï¼Œä¸”æ‰€æœ‰å¼•ç”¨å‡ä¸å¯è¾¾ï¼Œæ— éœ€å¤„ç†ä¸”ä¸è¾“å‡ºä¸ºjson\n\
            \n- T4-18å­˜åœ¨å¼•ç”¨ï¼Œå…¶ä¸­é™„å½•Cæ˜¯å¯è¾¾å¼•ç”¨ï¼Œéœ€è¦å°†T18ä¸­å¯¹äºé™„å½•Cçš„å¼•ç”¨éƒ¨åˆ†å±•å¼€ï¼Œå¹¶å°†æœ€ç»ˆç»“æœè¾“å‡ºä¸ºjsonã€‚å¦‚æœåœ¨å±•å¼€è¿‡ç¨‹ä¸­ï¼Œåˆå‡ºç°äº†ä¸å¯è¾¾çš„å¼•ç”¨ï¼Œæ­£å¸¸è¾“å‡ºï¼\n\
            \n\n# é”™è¯¯è¾“å‡ºç¤ºä¾‹1\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªé”™è¯¯è¾“å‡ºç¤ºä¾‹\n\n{\n\n\"å®éªŒç¼–å·\": \"...\",\n\n\"å®éªŒç›®çš„\": \"\
            ...\",\n\n\"å®éªŒæ¡ä»¶\": \"...\",\n\n\"å…·ä½“æ­¥éª¤\": \"...\",\n\n\"æ£€æµ‹é¡¹\": \"...\"\
            ,\n\n\"åˆ¤å®šæ ‡å‡†\": \"æ»¡è¶³GB 34660è¦æ±‚ï¼Œä¸”ç¬¦åˆé™„å½•Få¤±æ•ˆåˆ¤å®šå‡†åˆ™ï¼š\\n- AECSæˆåŠŸå»ºç«‹è¿æ¥\\n- è¯­éŸ³é€šè¯æ¸…æ™°å¯æ‡‚ï¼ˆè½¦è¾†ç«¯å’Œå¹³å°ç«¯ï¼‰\\\
            n- MSDç¬¦åˆé™„å½•Aè¦æ±‚\\n- è¯•éªŒä¸­æ— AECSæ•…éšœæŒ‡ç¤ºæˆ–å­˜å‚¨æ•…éšœç \",\n\n\"å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·\": \"4.8, F.1\"\
            ,\n\n\"ref\": \"GB 34660\"\n\n\"parent\":\"...\", \n\n}\n\n## é”™è¯¯åŸå› \n\n\
            1. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œå¼•å…¥äº†å¯¹äºé™„å½•Açš„å¼•ç”¨ï¼Œå³â€œMSDç¬¦åˆé™„å½•Aè¦æ±‚â€ï¼Œè¦å°†å…¶å¡«å……è‡³refå­—æ®µï¼ï¼ˆå›¾è¡¨çš„å¼•ç”¨æ— éœ€æ·»åŠ è‡³refå­—æ®µï¼Œä½†éœ€æ­£å¸¸å¤„ç†ï¼‰\n\
            \n2. å·²ç»å±•å¼€çš„å†…å®¹ï¼Œé™„å½•Fï¼Œåˆ™æ— éœ€åœ¨æè¿°ä¸­ä¿ç•™ï¼ˆæ»¡è¶³GB 34660è¦æ±‚ï¼Œä¸”ç¬¦åˆé™„å½•Få¤±æ•ˆåˆ¤å®šå‡†åˆ™ï¼‰ï¼Œæœªå±•å¼€çš„æ‰éœ€è¦ä¿ç•™\n\n\n\
            # é”™è¯¯ç¤ºä¾‹äºŒ\n## è¾“å…¥\n{\n'å®éªŒç¼–å·': 'T4-19', \n'å®éªŒç›®çš„': 'éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚',\
            \ \n'å®éªŒæ¡ä»¶': 'æ‰‹åŠ¨è§¦å‘AECSæˆ–æ‰§è¡ŒGB 11551å’ŒGB 20071è¯•éªŒè‡ªåŠ¨è§¦å‘å', \n'å…·ä½“æ­¥éª¤': '1. æ‰§è¡Œè§¦å‘ï¼ˆæ‰‹åŠ¨æˆ–è‡ªåŠ¨ï¼‰ï¼›\\\
            n2. ä½¿ç”¨è¡¨C.1çš„ä¸€ç§è¯•éªŒæ–¹æ³•ï¼ˆæ— çº¿ç©ºå£ä¼ è¾“ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æ— çº¿ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æœ‰çº¿ï¼‰éªŒè¯ç³»ç»ŸåŠŸèƒ½æ€§ï¼›\\n3. æ£€æŸ¥MSDç¬¦åˆé™„å½•Aè¦æ±‚ï¼›\\\
            n4. å¦‚æœä½¿ç”¨æ–¹æ³•3ï¼Œæ£€æŸ¥ç§»åŠ¨ç½‘ç»œå¤©çº¿è¦æ±‚', \n'æ£€æµ‹é¡¹': 'MSDç¬¦åˆæ€§ã€å¤©çº¿è¦æ±‚ï¼ˆå¦‚é€‚ç”¨ï¼‰', \n'åˆ¤å®šæ ‡å‡†': 'ç¬¦åˆä»¥ä¸‹æ‰€æœ‰è¦æ±‚ï¼š\\\
            n- MSDç¬¦åˆé™„å½•Aè¦æ±‚\\n- å¦‚æœä½¿ç”¨è¡¨C.1åºå·3æ–¹æ³•ï¼Œç¢°æ’åç§»åŠ¨ç½‘ç»œå¤©çº¿ç”µå‹é©»æ³¢æ¯”æ»¡è¶³åˆ¶é€ å•†å‚æ•°ï¼Œä¸”å¤©çº¿é¦ˆç”µçº¿è·¯æ— æ–­å¼€æˆ–çŸ­è·¯',\
            \ \n'å¯¹åº”æ ‡å‡†æ¡æ¬¾ç¼–å·': '4.5.2, C.2.1, C.2.2, C.2.3, C.2.4, C.2.5', \n'ref': 'é™„å½•A',\
            \ \n'parent': ''\n}\n\n## é”™è¯¯è¾“å‡º\n{\n\"å®éªŒç¼–å·\": \"T4-19-1\",\n\"å®éªŒç›®çš„\": \"\
            éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚ï¼ˆä½¿ç”¨å…¬å…±ç§»åŠ¨é€šä¿¡ç½‘ç»œæ— çº¿ç©ºå£ä¼ è¾“ï¼‰\",\n......\n\"ref\": \"\"\
            ,\n\"parent\": \"T4-19\"\n},\n{\n\"å®éªŒç¼–å·\": \"T4-19-2\",\n\"å®éªŒç›®çš„\": \"\
            éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚ï¼ˆä½¿ç”¨ç½‘ç»œæ¨¡æ‹Ÿå™¨æ— çº¿ç©ºå£ä¼ è¾“ï¼‰\",\n......\n\"ref\": \"\",\n\"\
            parent\": \"T4-19\"\n},\n{\n\"å®éªŒç¼–å·\": \"T4-19-3\",\n\"å®éªŒç›®çš„\": \"éªŒè¯æ‰‹åŠ¨è§¦å‘æˆ–GBè¯•éªŒè‡ªåŠ¨è§¦å‘åç³»ç»ŸåŠŸèƒ½æ€§ç¬¦åˆè¦æ±‚ï¼ˆä½¿ç”¨ç½‘ç»œæ¨¡æ‹Ÿå™¨æœ‰çº¿è¿æ¥ï¼‰\"\
            ,\n......\n\"ref\": \"\",\n\"parent\": \"T4-19\"\n}\n\n## é”™è¯¯åŸå› åˆ†æ\nåº”è¯¥å±•å¼€çš„æ˜¯å¯¹äºé™„å½•Açš„å¼•ç”¨ï¼Œå…¶ä½™éƒ¨åˆ†ä¿æŒä¸å˜å³å¯ï¼›ä»…éœ€å°†è¯¥è¾“å…¥æµ‹è¯•ç”¨ä¾‹ä¸­çš„â€œæ£€æŸ¥MSDç¬¦åˆé™„å½•Aè¦æ±‚â€è¿›è¡Œå±•å¼€ï¼Œè€Œä¸æ˜¯å°†â€œ\
            \ ä½¿ç”¨è¡¨C.1çš„ä¸€ç§è¯•éªŒæ–¹æ³•ï¼ˆæ— çº¿ç©ºå£ä¼ è¾“ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æ— çº¿ã€ç½‘ç»œæ¨¡æ‹Ÿå™¨æœ‰çº¿ï¼‰éªŒè¯ç³»ç»ŸåŠŸèƒ½æ€§â€å±•å¼€ä¸ºä¸‰ä¸ªæä¸ºç›¸ä¼¼çš„æµ‹è¯•ç”¨ä¾‹"
        - id: ba63d2c5-f7f4-4ab8-bc25-a169e0432af8
          role: user
          text: 'test_cases:{{#1753409012058.temp#}}

            chapter_texts:{{#1752737813275.array#}}

            appendix_text:{{#1752737813275.appendix#}}

            {{#1752737813275.tables#}}'
        selected: true
        title: LLM 3
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1753409474112'
      parentId: '1753409012058'
      position:
        x: 204
        y: 78
      positionAbsolute:
        x: 3020
        y: 464.5
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import json\nimport re\n\ndef main(raw_text: str) -> dict:\n    # 1.\
          \ å»æ‰ <think>...</think>\n    clean_text = re.sub(r'<think>.*?</think>',\
          \ '', raw_text, flags=re.DOTALL).strip()\n\n    return {\"answer\": clean_text}"
        code_language: python3
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        outputs:
          answer:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 7
        type: code
        variables:
        - value_selector:
          - '1753409474112'
          - text
          value_type: string
          variable: raw_text
      height: 53
      id: '1753409497092'
      parentId: '1753409012058'
      position:
        x: 812
        y: 96
      positionAbsolute:
        x: 3628
        y: 482.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 9211438d-2daa-4b10-a5f3-edad6bfb19b0
            value: clear
            varType: string
            variable_selector:
            - '1753409497092'
            - answer
          id: 'true'
          logical_operator: and
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 125
      id: '1753409501855'
      parentId: '1753409012058'
      position:
        x: 1116
        y: 60
      positionAbsolute:
        x: 3932
        y: 446.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        selected: false
        title: é€€å‡ºå¾ªç¯
        type: loop-end
      height: 53
      id: '1753409505567'
      parentId: '1753409012058'
      position:
        x: 1420
        y: 96
      positionAbsolute:
        x: 4236
        y: 482.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-simple
      width: 244
      zIndex: 1002
    - data:
        code: "import json\nimport ast\nimport re\nfrom typing import Dict, List,\
          \ Any\n\ndef parse_input(src: str) -> List[Dict[str, Any]]:\n    \"\"\"\
          é¢„å¤„ç†å¹¶è§£æè¾“å…¥å­—ç¬¦ä¸²ä¸ºåˆ—è¡¨å­—å…¸ç»“æ„\"\"\"\n    try:\n        # å»é™¤ LLM æ€ç»´é“¾æ ‡è®°\n        src\
          \ = re.sub(r'<think>.*?</think>', '', src, flags=re.DOTALL).strip()\n\n\
          \        try:\n            data = json.loads(src)\n        except json.JSONDecodeError:\n\
          \            try:\n                if src.startswith('\\ufeff'):\n     \
          \               src = src[1:]\n                data = ast.literal_eval(src)\n\
          \            except (SyntaxError, ValueError):\n                try:\n \
          \                   processed = src.replace('\\\\\"', '\"').replace('\\\\\
          n', '\\n')\n                    data = json.loads(processed)\n         \
          \       except Exception as e:\n                    raise ValueError(f\"\
          æ— æ³•è§£æï¼š{str(e)}\")\n\n        # ä¿è¯ä¸º list\n        if isinstance(data, dict):\n\
          \            return [data]\n        elif isinstance(data, list):\n     \
          \       return data\n        else:\n            return []\n    except Exception\
          \ as e:\n        raise ValueError(f\"é¢„å¤„ç†å¤±è´¥: {str(e)}\")\n\ndef merge_data(data1:\
          \ List[Dict], data2: List[Dict]) -> List[Dict]:\n    \"\"\"\n    æ ¹æ®parentå­—æ®µå°†data2ä¸­çš„æ•°æ®æ›¿æ¢data1ä¸­å¯¹åº”çš„å†…å®¹\n\
          \    è§„åˆ™ï¼š\n    1. å¦‚æœdata2ä¸­çš„é¡¹æœ‰parentå­—æ®µï¼Œåˆ™æ›¿æ¢data1ä¸­å®éªŒç¼–å·åŒ¹é…parentçš„é¡¹\n    2. å¦‚æœdata2ä¸­çš„é¡¹æ²¡æœ‰parentå­—æ®µï¼Œåˆ™ç›´æ¥è¿½åŠ åˆ°ç»“æœä¸­\n\
          \    3. data1ä¸­æ²¡æœ‰è¢«æ›¿æ¢çš„é¡¹ä¿ç•™åœ¨ç»“æœä¸­\n    \"\"\"\n    result = []\n    \n    # æ„å»ºparentæ˜ å°„ï¼šparent\
          \ -> [å­é¡¹åˆ—è¡¨]\n    parent_map = {}\n    for item in data2:\n        if not\
          \ isinstance(item, dict):\n            continue\n        parent = item.get(\"\
          parent\")\n        if parent:\n            parent_map.setdefault(parent,\
          \ []).append(item)\n    \n    # å¤„ç†data1ä¸­çš„é¡¹\n    for item in data1:\n   \
          \     if not isinstance(item, dict):\n            continue\n        test_id\
          \ = item.get(\"å®éªŒç¼–å·\", \"\")\n        \n        # å¦‚æœdata2ä¸­æœ‰è¿™ä¸ªtest_idçš„æ‰©å±•é¡¹ï¼Œåˆ™æ›¿æ¢\n\
          \        if test_id in parent_map:\n            result.extend(parent_map[test_id])\n\
          \        else:\n            result.append(item)\n    \n    # æ·»åŠ data2ä¸­æ²¡æœ‰parentçš„é¡¹\n\
          \    for item in data2:\n        if not isinstance(item, dict):\n      \
          \      continue\n        if not item.get(\"parent\"):\n            result.append(item)\n\
          \    \n    return result\n\ndef split_by_ref_field(data: List[Dict]) ->\
          \ Dict[str, List[Dict]]:\n    \"\"\"\n    æ ¹æ® ref å­—æ®µæ˜¯å¦ä¸ºç©ºæ‹†åˆ†æ•°æ®\n    è¿”å›: {\n\
          \        \"with_ref\": [å«æœ‰refå­—æ®µçš„è®°å½•],\n        \"without_ref\": [refä¸ºç©ºçš„è®°å½•]\n\
          \    }\n    \"\"\"\n    with_ref = []\n    without_ref = []\n    \n    for\
          \ item in data:\n        if not isinstance(item, dict):\n            continue\n\
          \            \n        # æ£€æŸ¥refå­—æ®µæ˜¯å¦å­˜åœ¨ä¸”éç©º\n        if item.get(\"ref\"):\n\
          \            with_ref.append(item)\n        else:\n            without_ref.append(item)\n\
          \    \n    return {\n        \"with_ref\": with_ref,\n        \"without_ref\"\
          : without_ref\n    }\n\n# def main(temp: str, text: str, finished: str)\
          \ -> Dict:\n#     try:\n#         # éªŒè¯è¾“å…¥ä¸ä¸ºç©º\n#         if not temp.strip():\n\
          #             temp = \"[]\"\n#         if not text.strip():\n#         \
          \    text = \"[]\"\n#         if not finished.strip():\n#             finished\
          \ = \"[]\"\n            \n#         # è§£æè¾“å…¥æ•°æ®\n#         temp_data = ast.literal_eval(temp)\n\
          #         new_data = parse_input(text)\n#         finished_data = ast.literal_eval(finished)\n\
          \        \n#         # ä½¿ç”¨merge_dataå‡½æ•°åˆå¹¶æ–°æ•°æ®åˆ°temp\n#         merged_temp =\
          \ merge_data(temp_data, new_data)\n        \n#         # å°†åˆå¹¶åçš„æ•°æ®æŒ‰refå­—æ®µæ‹†åˆ†\n\
          #         ref_split = split_by_ref_field(merged_temp)\n        \n#     \
          \    # æ›´æ–°finishedï¼šåŸfinished + æ–°ç”Ÿæˆçš„æ²¡æœ‰å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹\n#         new_finished = finished_data\
          \ + ref_split[\"without_ref\"]\n        \n#         # æ–°çš„tempï¼šåªä¿ç•™å¸¦å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹\n\
          #         new_temp = ref_split[\"with_ref\"]\n        \n#         return\
          \ {\n#             \"with_ref\": str(new_temp),  # éœ€è¦ç»§ç»­å¤„ç†çš„æ•°æ®ï¼ˆå¸¦å¼•ç”¨ï¼‰\n#   \
          \          \"without_ref\": str(new_finished)  # å·²å®Œæˆçš„æ•°æ®ï¼ˆä¸å¸¦å¼•ç”¨ï¼‰\n#       \
          \  }\n#     except Exception as e:\n#         return {\n#             \"\
          error\": str(e)\n#         }\n# def main(temp: str, text: str, finished:\
          \ str) -> Dict:\n#     try:\n#         # éªŒè¯è¾“å…¥ä¸ä¸ºç©º\n#         if not temp.strip():\n\
          #             temp = \"[]\"\n#         if not text.strip():\n#         \
          \    text = \"[]\"\n#         if not finished.strip():\n#             finished\
          \ = \"[]\"\n            \n#         # è§£æè¾“å…¥æ•°æ®\n#         temp_data = ast.literal_eval(temp)\n\
          #         new_data = parse_input(text)\n#         finished_data = ast.literal_eval(finished)\n\
          \        \n#         # ä½¿ç”¨merge_dataå‡½æ•°åˆå¹¶æ–°æ•°æ®åˆ°temp\n#         merged_temp =\
          \ merge_data(temp_data, new_data)\n        \n#         # å°†åˆå¹¶åçš„æ•°æ®æŒ‰refå­—æ®µæ‹†åˆ†\n\
          #         ref_split = split_by_ref_field(merged_temp)\n        \n#     \
          \    # æ›´æ–°finishedï¼šåŸfinished + æ–°ç”Ÿæˆçš„æ²¡æœ‰å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹\n#         new_finished = finished_data\
          \ + ref_split[\"without_ref\"]\n        \n#         # æ–°çš„tempï¼šåªä¿ç•™å¸¦å¼•ç”¨çš„æµ‹è¯•ç”¨ä¾‹\n\
          #         new_temp = ref_split[\"with_ref\"]\n\n#         # è®¡ç®— tag\n#  \
          \       tag = True\n#         for item in new_temp:\n#             if not\
          \ isinstance(item, dict):\n#                 continue\n#             ref_raw\
          \ = item.get(\"ref\", \"\")\n#             # æ”¯æŒç©ºå­—ç¬¦ä¸²ç›´æ¥è§†ä¸ºæ»¡è¶³æ¡ä»¶\n#         \
          \    if ref_raw == \"\":\n#                 continue\n#             # æ‹†åˆ†åé€é¡¹åˆ¤æ–­\n\
          #             for ref_part in str(ref_raw).split(\",\"):\n#            \
          \     ref_part = ref_part.strip()\n#                 if ref_part and not\
          \ (ref_part.startswith(\"GB\") or ref_part.startswith(\"å›¾\")):\n#      \
          \               tag = False\n#                     break\n#            \
          \ if not tag:\n#                 break\n        \n#         return {\n#\
          \             \"with_ref\": str(new_temp),\n#             \"without_ref\"\
          : str(new_finished),\n#             \"tag\": str(tag)\n#         }\n#  \
          \   except Exception as e:\n#         return {\n#             \"error\"\
          : str(e)\n#         }\n\ndef main(temp: str, text: str, finished: str) ->\
          \ Dict:\n    try:\n        # éªŒè¯è¾“å…¥ä¸ä¸ºç©º\n        if not temp.strip():\n   \
          \         temp = \"[]\"\n        if not text.strip():\n            text\
          \ = \"[]\"\n        if not finished.strip():\n            finished = \"\
          []\"\n\n        # è§£æè¾“å…¥æ•°æ®\n        temp_data = ast.literal_eval(temp)\n \
          \       new_data = parse_input(text)\n        finished_data = ast.literal_eval(finished)\n\
          \n        # åˆå¹¶æ•°æ®\n        merged_temp = merge_data(temp_data, new_data)\n\
          \        ref_split = split_by_ref_field(merged_temp)\n\n        new_finished\
          \ = finished_data + ref_split[\"without_ref\"]\n        new_temp = ref_split[\"\
          with_ref\"]\n\n        # æ–°å¢é€»è¾‘ï¼šå¤„ç†new_tempä¸­ä»¥\"GB\"æˆ–\"å›¾\"å¼€å¤´çš„refé¡¹\n        remaining_temp\
          \ = []\n        for item in new_temp:\n            if not isinstance(item,\
          \ dict):\n                remaining_temp.append(item)\n                continue\n\
          \n            ref_raw = str(item.get(\"ref\", \"\")).strip()\n         \
          \   # åˆ¤æ–­æ˜¯å¦ä»…ç”±\"GB\"æˆ–\"å›¾\"å¼€å¤´çš„éƒ¨åˆ†ç»„æˆ\n            valid = True\n            for\
          \ part in re.split(r'[,ï¼Œã€]', ref_raw):\n                part = part.strip()\n\
          \                if part and not (part.startswith(\"GB\") or part.startswith(\"\
          GA\") or part.startswith(\"å›¾\")):\n                    valid = False\n \
          \                   break\n\n            if valid:\n                new_finished.append(item)\n\
          \            else:\n                remaining_temp.append(item)\n\n    \
          \    tag = not remaining_temp\n\n        return {\n            \"with_ref\"\
          : str(remaining_temp),\n            \"without_ref\": str(new_finished),\n\
          \            \"tag\": str(tag)\n        }\n    except Exception as e:\n\
          \        return {\n            \"error\": str(e)\n        }"
        code_language: python3
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        outputs:
          tag:
            children: null
            type: string
          with_ref:
            children: null
            type: string
          without_ref:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 8
        type: code
        variables:
        - value_selector:
          - '1753409012058'
          - temp
          value_type: string
          variable: temp
        - value_selector:
          - '1753409474112'
          - text
          value_type: string
          variable: text
        - value_selector:
          - '1753409012058'
          - finished
          value_type: string
          variable: finished
      height: 53
      id: '1753409508297'
      parentId: '1753409012058'
      position:
        x: 1420
        y: 189
      positionAbsolute:
        x: 4236
        y: 575.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1753409508297'
          - with_ref
          variable_selector:
          - '1753409012058'
          - temp
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1753409508297'
          - without_ref
          variable_selector:
          - '1753409012058'
          - finished
          write_mode: over-write
        loop_id: '1753409012058'
        selected: false
        title: å˜é‡èµ‹å€¼
        type: assigner
        version: '2'
      height: 115
      id: '1753409511950'
      parentId: '1753409012058'
      position:
        x: 1724
        y: 158
      positionAbsolute:
        x: 4540
        y: 544.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        author: Dale
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"å¾ªç¯ï¼Œç”¨äºå¤„ç†å¯¹äºå¯èƒ½çš„æœªå¤„ç†å®Œæ¯•çš„é™„å½•çš„å¼•ç”¨ï¼Œä»¥åŠå¯¹äºæœ¬æ–‡å…¶å®ƒç« èŠ‚æ¡æ¬¾çš„å¼•ç”¨","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1753449804979'
      position:
        x: 2903.259703594025
        y: 178.1358024278445
      positionAbsolute:
        x: 2903.259703594025
        y: 178.1358024278445
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1752730445843'
          - text
          variable_selector:
          - conversation
          - LLM1_output
          write_mode: over-write
        - input_type: variable
          operation: over-write
          value:
          - '1753071359036'
          - text
          variable_selector:
          - conversation
          - LLM2_output
          write_mode: over-write
        iteration_id: '1752730418049'
        selected: false
        title: å˜é‡èµ‹å€¼ 2
        type: assigner
        version: '2'
      height: 115
      id: '1753493998402'
      parentId: '1752730418049'
      position:
        x: 1116
        y: 60
      positionAbsolute:
        x: 1742.3360859321056
        y: 446.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1753409474112'
          - text
          variable_selector:
          - conversation
          - LLM3_output
          write_mode: over-write
        loop_id: '1753409012058'
        selected: false
        title: å˜é‡èµ‹å€¼ 3
        type: assigner
        version: '2'
      height: 87
      id: '1753494056663'
      parentId: '1753409012058'
      position:
        x: 508
        y: 79
      positionAbsolute:
        x: 3324
        y: 465.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: cdf81495-e0d1-4a42-994f-b27f061b92fe
            value: 'True'
            varType: string
            variable_selector:
            - '1753409508297'
            - tag
          id: 'true'
          logical_operator: and
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 125
      id: '1753884991237'
      parentId: '1753409012058'
      position:
        x: 2028
        y: 153
      positionAbsolute:
        x: 4844
        y: 539.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: false
        isInLoop: true
        loop_id: '1753409012058'
        selected: false
        title: é€€å‡ºå¾ªç¯ 2
        type: loop-end
      height: 53
      id: '1753885009929'
      parentId: '1753409012058'
      position:
        x: 2332
        y: 189
      positionAbsolute:
        x: 5148
        y: 575.5
      sourcePosition: right
      targetPosition: left
      type: custom-simple
      width: 244
      zIndex: 1002
    - data:
        answer: 'context:{{#1752737813275.context#}}

          array:{{#1752737813275.array#}}

          appendix:{{#1752737813275.appendix#}}

          tables:{{#1752737813275.tables#}}

          {{#1752737813275.term_map#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 160
      id: '1754114949663'
      position:
        x: 608.5714285714286
        y: 62.071428571428584
      positionAbsolute:
        x: 608.5714285714286
        y: 62.071428571428584
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import ast\nimport re\nfrom typing import Any, Dict, List\n\ndef main(arg1:\
          \ str, arg2: str) -> Dict[str, str]:\n    finished = ast.literal_eval(arg1)\n\
          \    unfinished = ast.literal_eval(arg2)\n    \n    # æ–°å¢é€»è¾‘ï¼šå¤„ç†new_tempä¸­ä»¥\"\
          GB\"æˆ–\"å›¾\"å¼€å¤´çš„refé¡¹\n    remaining_temp = []\n    for item in unfinished:\n\
          \        if not isinstance(item, dict):\n            remaining_temp.append(item)\n\
          \            continue\n\n        ref_raw = str(item.get(\"ref\", \"\")).strip()\n\
          \        # åˆ¤æ–­æ˜¯å¦ä»…ç”±\"GB\"æˆ–\"å›¾\"å¼€å¤´çš„éƒ¨åˆ†ç»„æˆ\n        valid = True\n        for\
          \ part in re.split(r'[,ï¼Œã€]', ref_raw):\n            part = part.strip()\n\
          \            if part and not (part.startswith(\"GB\") or part.startswith(\"\
          GA\") or part.startswith(\"å›¾\")):\n                valid = False\n     \
          \           break\n\n        if valid:\n            finished.append(item)\n\
          \        else:\n            remaining_temp.append(item)\n    \n    unfinished\
          \ = remaining_temp\n\n    # ç»Ÿä¸€æŠŠ parent å­—æ®µç½®ç©ºï¼Œé˜²æ­¢åç»­å¼•ç”¨å‡ºé”™\n    for item in finished\
          \ + unfinished:\n        item[\"parent\"] = \"\"\n\n    return {\n     \
          \   \"finished\": str(finished),\n        \"unfinished\": str(unfinished),\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          finished:
            children: null
            type: string
          unfinished:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ 8
        type: code
        variables:
        - value_selector:
          - '1752117396348'
          - finished
          value_type: string
          variable: arg1
        - value_selector:
          - '1752117396348'
          - unfinished
          value_type: string
          variable: arg2
      height: 53
      id: '1754190567308'
      position:
        x: 2499.2731178913464
        y: 178.1358024278445
      positionAbsolute:
        x: 2499.2731178913464
        y: 178.1358024278445
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -1149.5492527305187
      y: 131.91596354027502
      zoom: 0.5144070819687636
